<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head id="head" data-base-url=".."><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Cardano.Ledger.Binary.Decoding.Coders</title><link href="../linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="../quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="../haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">cardano-ledger-binary-1.1.0.0: Binary serialization library used throughout ledger</span><ul class="links" id="page-menu"><li><a href="src/Cardano.Ledger.Binary.Decoding.Coders.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Cardano.Ledger.Binary.Decoding.Coders</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Creating decoders.</a></li><li><a href="#g:2">Index types for well-formed Coders.</a></li><li><a href="#g:3">Using Duals</a></li><li><a href="#g:4">Containers, Combinators</a></li><li><a href="#g:5">Low level (Encoding/Decoder) utility functions</a></li></ul></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:Decode">Decode</a> (w &#8759; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Wrapped" title="Cardano.Ledger.Binary.Decoding.Coders">Wrapped</a>) t <span class="keyword">where</span><ul class="subs"><li><a href="#v:RecD">RecD</a> &#8759; t &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Decoding.Coders">Dense</a>) t</li><li><a href="#v:SumD">SumD</a> &#8759; t &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> '<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Open" title="Cardano.Ledger.Binary.Decoding.Coders">Open</a> t</li><li><a href="#v:Summands">Summands</a> &#8759; <a href="../base/Data-String.html#t:String" title="Data.String">String</a> &#8594; (<a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> '<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Open" title="Cardano.Ledger.Binary.Decoding.Coders">Open</a> t) &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Decoding.Coders">Dense</a>) t</li><li><a href="#v:SparseKeyed">SparseKeyed</a> &#8759; <a href="../base/Data-Typeable.html#t:Typeable" title="Data.Typeable">Typeable</a> t &#8658; <a href="../base/Data-String.html#t:String" title="Data.String">String</a> &#8594; t &#8594; (<a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Field" title="Cardano.Ledger.Binary.Decoding.Coders">Field</a> t) &#8594; [(<a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a>, <a href="../base/Data-String.html#t:String" title="Data.String">String</a>)] &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Decoding.Coders">Dense</a>) t</li><li><a href="#v:KeyedD">KeyedD</a> &#8759; t &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Sparse" title="Cardano.Ledger.Binary.Decoding.Coders">Sparse</a>) t</li><li><a href="#v:From">From</a> &#8759; <a href="Cardano-Ledger-Binary-Decoding-DecCBOR.html#t:DecCBOR" title="Cardano.Ledger.Binary.Decoding.DecCBOR">DecCBOR</a> t &#8658; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> w t</li><li><a href="#v:D">D</a> &#8759; (&#8704; s. <a href="Cardano-Ledger-Binary-Decoding-Decoder.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding.Decoder">Decoder</a> s t) &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Decoding.Coders">Dense</a>) t</li><li><a href="#v:ApplyD">ApplyD</a> &#8759; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> w1 (a &#8594; t) &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> d) a &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> w1 t</li><li><a href="#v:Invalid">Invalid</a> &#8759; <a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> w t</li><li><a href="#v:Map">Map</a> &#8759; (a &#8594; b) &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> w a &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> w b</li><li><a href="#v:TagD">TagD</a> &#8759; <a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> x) t &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> x) t</li><li><a href="#v:Emit">Emit</a> &#8759; t &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> w t</li><li><a href="#v:Ann">Ann</a> &#8759; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> w t &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> w (<a href="Cardano-Ledger-Binary-Decoding-Annotated.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding.Annotated">Annotator</a> t)</li><li><a href="#v:ApplyAnn">ApplyAnn</a> &#8759; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> w1 (<a href="Cardano-Ledger-Binary-Decoding-Annotated.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding.Annotated">Annotator</a> (a &#8594; t)) &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> d) (<a href="Cardano-Ledger-Binary-Decoding-Annotated.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding.Annotated">Annotator</a> a) &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> w1 (<a href="Cardano-Ledger-Binary-Decoding-Annotated.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding.Annotated">Annotator</a> t)</li><li><a href="#v:ApplyErr">ApplyErr</a> &#8759; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> w1 (a &#8594; <a href="../base/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../base/Data-String.html#t:String" title="Data.String">String</a> t) &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> d) a &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> w1 t</li></ul></li><li class="src short"><a href="#v:-60--33-">(&lt;!)</a> &#8759; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> w1 (a &#8594; t) &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> w) a &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> w1 t</li><li class="src short"><a href="#v:-60--42--33-">(&lt;*!)</a> &#8759; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> w1 (<a href="Cardano-Ledger-Binary-Decoding-Annotated.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding.Annotated">Annotator</a> (a &#8594; t)) &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> d) (<a href="Cardano-Ledger-Binary-Decoding-Annotated.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding.Annotated">Annotator</a> a) &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> w1 (<a href="Cardano-Ledger-Binary-Decoding-Annotated.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding.Annotated">Annotator</a> t)</li><li class="src short"><a href="#v:-60--63-">(&lt;?)</a> &#8759; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> w1 (a &#8594; <a href="../base/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../base/Data-String.html#t:String" title="Data.String">String</a> t) &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> d) a &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> w1 t</li><li class="src short"><a href="#v:decode">decode</a> &#8759; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> w t &#8594; <a href="Cardano-Ledger-Binary-Decoding-Decoder.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding.Decoder">Decoder</a> s t</li><li class="src short"><a href="#v:decodeSparse">decodeSparse</a> &#8759; <a href="../base/Data-Typeable.html#t:Typeable" title="Data.Typeable">Typeable</a> a &#8658; <a href="../base/Data-String.html#t:String" title="Data.String">String</a> &#8594; a &#8594; (<a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Field" title="Cardano.Ledger.Binary.Decoding.Coders">Field</a> a) &#8594; [(<a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a>, <a href="../base/Data-String.html#t:String" title="Data.String">String</a>)] &#8594; <a href="Cardano-Ledger-Binary-Decoding-Decoder.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding.Decoder">Decoder</a> s a</li><li class="src short"><span class="keyword">data</span> <a href="#t:Density">Density</a><ul class="subs"><li>= <a href="#v:Dense">Dense</a></li><li>| <a href="#v:Sparse">Sparse</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:Wrapped">Wrapped</a> <span class="keyword">where</span><ul class="subs"><li><a href="#v:Open">Open</a> &#8759; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Wrapped" title="Cardano.Ledger.Binary.Decoding.Coders">Wrapped</a></li><li><a href="#v:Closed">Closed</a> &#8759; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Density" title="Cardano.Ledger.Binary.Decoding.Coders">Density</a> &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Wrapped" title="Cardano.Ledger.Binary.Decoding.Coders">Wrapped</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:Field">Field</a> t <span class="keyword">where</span><ul class="subs"><li><a href="#v:Field">Field</a> &#8759; (x &#8594; t &#8594; t) &#8594; (&#8704; s. <a href="Cardano-Ledger-Binary-Decoding-Decoder.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding.Decoder">Decoder</a> s x) &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Field" title="Cardano.Ledger.Binary.Decoding.Coders">Field</a> t</li></ul></li><li class="src short"><a href="#v:ofield">ofield</a> &#8759; (<a href="../cardano-strict-containers/Data-Maybe-Strict.html#t:StrictMaybe" title="Data.Maybe.Strict">StrictMaybe</a> x &#8594; t &#8594; t) &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> d) x &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Field" title="Cardano.Ledger.Binary.Decoding.Coders">Field</a> t</li><li class="src short"><a href="#v:invalidField">invalidField</a> &#8759; &#8704; t. <a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Field" title="Cardano.Ledger.Binary.Decoding.Coders">Field</a> t</li><li class="src short"><a href="#v:field">field</a> &#8759; (x &#8594; t &#8594; t) &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> d) x &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Field" title="Cardano.Ledger.Binary.Decoding.Coders">Field</a> t</li><li class="src short"><a href="#v:fieldA">fieldA</a> &#8759; <a href="../base/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> ann &#8658; (x &#8594; t &#8594; t) &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> d) x &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Field" title="Cardano.Ledger.Binary.Decoding.Coders">Field</a> (ann t)</li><li class="src short"><a href="#v:fieldAA">fieldAA</a> &#8759; <a href="../base/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> ann &#8658; (x &#8594; t &#8594; t) &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> d) (ann x) &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Field" title="Cardano.Ledger.Binary.Decoding.Coders">Field</a> (ann t)</li><li class="src short"><a href="#v:decodeDual">decodeDual</a> &#8759; &#8704; t. (<a href="Cardano-Ledger-Binary-Encoding-EncCBOR.html#t:EncCBOR" title="Cardano.Ledger.Binary.Encoding.EncCBOR">EncCBOR</a> t, <a href="Cardano-Ledger-Binary-Decoding-DecCBOR.html#t:DecCBOR" title="Cardano.Ledger.Binary.Decoding.DecCBOR">DecCBOR</a> t) &#8658; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Decoding.Coders">Dense</a>) t</li><li class="src short"><a href="#v:listDecodeA">listDecodeA</a> &#8759; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Decoding.Coders">Dense</a>) (<a href="Cardano-Ledger-Binary-Decoding-Annotated.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding.Annotated">Annotator</a> x) &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Decoding.Coders">Dense</a>) (<a href="Cardano-Ledger-Binary-Decoding-Annotated.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding.Annotated">Annotator</a> [x])</li><li class="src short"><a href="#v:mapDecodeA">mapDecodeA</a> &#8759; <a href="../base/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> k &#8658; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Decoding.Coders">Dense</a>) (<a href="Cardano-Ledger-Binary-Decoding-Annotated.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding.Annotated">Annotator</a> k) &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Decoding.Coders">Dense</a>) (<a href="Cardano-Ledger-Binary-Decoding-Annotated.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding.Annotated">Annotator</a> v) &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Decoding.Coders">Dense</a>) (<a href="Cardano-Ledger-Binary-Decoding-Annotated.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding.Annotated">Annotator</a> (Map k v))</li><li class="src short"><a href="#v:setDecodeA">setDecodeA</a> &#8759; <a href="../base/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> x &#8658; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Decoding.Coders">Dense</a>) (<a href="Cardano-Ledger-Binary-Decoding-Annotated.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding.Annotated">Annotator</a> x) &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Decoding.Coders">Dense</a>) (<a href="Cardano-Ledger-Binary-Decoding-Annotated.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding.Annotated">Annotator</a> (Set x))</li><li class="src short"><a href="#v:decodeRecordNamed">decodeRecordNamed</a> &#8759; Text &#8594; (a &#8594; <a href="../base/Data-Int.html#t:Int" title="Data.Int">Int</a>) &#8594; <a href="Cardano-Ledger-Binary-Decoding-Decoder.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding.Decoder">Decoder</a> s a &#8594; <a href="Cardano-Ledger-Binary-Decoding-Decoder.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding.Decoder">Decoder</a> s a</li><li class="src short"><a href="#v:decodeRecordNamedT">decodeRecordNamedT</a> &#8759; (MonadTrans m, <a href="../base/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> (m (<a href="Cardano-Ledger-Binary-Decoding-Decoder.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding.Decoder">Decoder</a> s))) &#8658; Text &#8594; (a &#8594; <a href="../base/Data-Int.html#t:Int" title="Data.Int">Int</a>) &#8594; m (<a href="Cardano-Ledger-Binary-Decoding-Decoder.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding.Decoder">Decoder</a> s) a &#8594; m (<a href="Cardano-Ledger-Binary-Decoding-Decoder.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding.Decoder">Decoder</a> s) a</li><li class="src short"><a href="#v:decodeRecordSum">decodeRecordSum</a> &#8759; <a href="../base/Data-String.html#t:String" title="Data.String">String</a> &#8594; (<a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; <a href="Cardano-Ledger-Binary-Decoding-Decoder.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding.Decoder">Decoder</a> s (<a href="../base/Data-Int.html#t:Int" title="Data.Int">Int</a>, a)) &#8594; <a href="Cardano-Ledger-Binary-Decoding-Decoder.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding.Decoder">Decoder</a> s a</li><li class="src short"><a href="#v:invalidKey">invalidKey</a> &#8759; <a href="../base/Control-Monad-Fail.html#t:MonadFail" title="Control.Monad.Fail">MonadFail</a> m &#8658; <a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; m a</li><li class="src short"><a href="#v:unusedRequiredKeys">unusedRequiredKeys</a> &#8759; Set <a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; [(<a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a>, <a href="../base/Data-String.html#t:String" title="Data.String">String</a>)] &#8594; <a href="../base/Data-String.html#t:String" title="Data.String">String</a> &#8594; <a href="Cardano-Ledger-Binary-Decoding-Decoder.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding.Decoder">Decoder</a> s a</li><li class="src short"><a href="#v:duplicateKey">duplicateKey</a> &#8759; <a href="../base/Data-String.html#t:String" title="Data.String">String</a> &#8594; <a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; <a href="Cardano-Ledger-Binary-Decoding-Decoder.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding.Decoder">Decoder</a> s a</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Creating decoders.</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Decode" class="def">Decode</a> (w &#8759; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Wrapped" title="Cardano.Ledger.Binary.Decoding.Coders">Wrapped</a>) t <span class="keyword">where</span> <a href="src/Cardano.Ledger.Binary.Decoding.Coders.html#Decode" class="link">Source</a> <a href="#t:Decode" class="selflink">#</a></p><div class="doc"><p>The type <code>(<code><a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a></code> t)</code> is designed to be dual to <code>(<code>Encode</code> t)</code>. It was designed so that
 in many cases a decoder can be extracted from an encoder by visual inspection. We now give some
 example of <code>(Decode t)</code>  and  <code>(Encode t)</code> pairs.</p><p>An example with 1 constructor (a record) uses <code>Rec</code> and <code><a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:RecD" title="Cardano.Ledger.Binary.Decoding.Coders">RecD</a></code></p><p>In this example, let <code>Int</code> and <code>C</code> have <code><a href="Cardano-Ledger-Binary-Encoding-EncCBOR.html#t:EncCBOR" title="Cardano.Ledger.Binary.Encoding.EncCBOR">EncCBOR</a></code> instances.</p><pre>data C = C { unC :: Text.Text }
instance EncCBOR C where
  encCBOR (C t) = encCBOR t
instance DecCBOR C where
  decCBOR = C <a href="$">$</a> decCBOR

data B = B { unB :: Text.Text }

data A = ACon Int B C

encodeA :: A -&gt; Encode ('Closed 'Dense) A
encodeA (ACon i b c) = Rec ACon !&gt; To i !&gt; E (encCBOR . unB) b !&gt; To c

decodeA :: Decode ('Closed 'Dense) A
decodeA = RecD ACon <a href="!">From &lt;! D (B &lt;$</a> decCBOR) &lt;! From

instance EncCBOR A where
  encCBOR = encode . encodeA
instance DecCBOR A where
  decCBOR = decode decodeA
</pre><p>An example with multiple constructors uses <code>Sum</code>, <code><a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:SumD" title="Cardano.Ledger.Binary.Decoding.Coders">SumD</a></code>, and <code><a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Summands" title="Cardano.Ledger.Binary.Decoding.Coders">Summands</a></code>.</p><pre>data N = N1 Int | N2 B Bool | N3 A

encodeN :: N -&gt; Encode 'Open N
encodeN (N1 i)    = Sum N1 0 !&gt; To i
encodeN (N2 b tf) = Sum N2 1 !&gt; E (encCBOR . unB) b !&gt; To tf
encodeN (N3 a)    = Sum N3 2 !&gt; To a

decodeN :: Decode ('Closed 'Dense) N    -- Note each clause has an 'Open decoder,
decodeN = Summands <a href="N.html">N</a> decodeNx           -- But Summands returns a ('Closed 'Dense) decoder
  where decodeNx 0 = SumD N1 &lt;! From
        decodeNx 1 = SumD N2 <a href="!">D (B &lt;$</a> decCBOR) &lt;! From
        decodeNx 3 = SumD N3 &lt;! From
        decodeNx k = Invalid k

instance EncCBOR N   where encCBOR x = encode(encodeN x)
instance DecCBOR N where decCBOR = decode decodeN
</pre><p>Two examples using variants of sparse encoding for records, i.e. those datatypes with only one constructor.
 The Virtual constructor approach using <code><a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Summands" title="Cardano.Ledger.Binary.Decoding.Coders">Summands</a></code>, <code>OmitC</code>, <code><a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Emit" title="Cardano.Ledger.Binary.Decoding.Coders">Emit</a></code>.
 The Sparse field approach using <code>Keyed</code>, <code>Key</code> and <code>Omit</code>. The approaches work
 because encoders and decoders don't put
 fields with default values in the Encoding, and reconstruct the default values on the decoding side.
 We will illustrate the two approaches using the datatype M</p><pre>data M = M Int [Bool] Text.Text
  deriving (Show, Typeable)

a0, a1, a2, a3 :: M  -- Some illustrative examples, using things that might be given default values.
a0 = M 0 [] <a href="ABC.html">ABC</a>
a1 = M 0 [True] <a href="ABC.html">ABC</a>
a2 = M 9 [] <a href="ABC.html">ABC</a>
a3 = M 9 [False] <a href="ABC.html">ABC</a>
</pre><p>The virtual constructor strategy pretends there are mutiple constructors
 Even though there is only one. We use invariants about the data to avoid
 encoding some of the values. Note the use of <code>Sum</code> with virtual constructor tags 0,1,2,3</p><pre>encM :: M -&gt; Encode 'Open M
encM (M 0 [] t) = Sum M 0 !&gt; OmitC 0 !&gt; OmitC [] !&gt; To t
encM (M 0 bs t) = Sum M 1 !&gt; OmitC 0 !&gt; To bs !&gt; To t
encM (M n [] t) = Sum M 2 !&gt; To n !&gt; OmitC [] !&gt; To t
encM (M n bs t) = Sum M 3 !&gt; To n !&gt; To bs !&gt; To t

decM :: Word -&gt; Decode 'Open M
decM 0 = SumD M &lt;! Emit 0 &lt;! Emit [] &lt;! From  -- The virtual constructors tell which fields have been Omited
decM 1 = SumD M &lt;! Emit 0 &lt;! From &lt;! From     -- So those fields are reconstructed using <code><a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Emit" title="Cardano.Ledger.Binary.Decoding.Coders">Emit</a></code>.
decM 2 = SumD M &lt;! From &lt;! Emit [] &lt;! From
decM 3 = SumD M &lt;! From &lt;! From &lt;! From
decM n = Invalid n

instance EncCBOR M where
  encCBOR m = encode (encM m)

instance DecCBOR M where
  decCBOR = decode (Summands <a href="M.html">M</a> decM)
</pre><p>The Sparse field approach uses N keys, one for each field that is not defaulted. For example
 <code>(M 9 [True] (pack &quot;hi&quot;)))</code>. Here zero fields are defaulted, so there should be 3 keys.
 Encoding this example would look something like this.</p><pre>[TkMapLen 3,TkInt 0,TkInt 9,TkInt 1,TkListBegin,TkBool True,TkBreak,TkInt 2,TkString &quot;hi&quot;]
                  ^key            ^key                                    ^key
</pre><p>So the user supplies a function, that encodes every field, each field must use a unique
 key, and fields with default values have Omit wrapped around the Key encoding.
 The user must ensure that there is NOT an Omit on a required field. <code>encM2</code> is an example.</p><pre>encM2:: M -&gt; Encode ('Closed 'Sparse) M
encM2 (M n xs t) =
    Keyed M
       !&gt; Omit (== 0) (Key 0 (To n))    -- Omit if n is zero
       !&gt; Omit null (Key 1 (To xs))     -- Omit if xs is null
       !&gt; Key 2 (To t)                  -- Always encode t
</pre><p>To write an Decoder we must pair a decoder for each field, with a function that updates only
 that field. We use the <code><a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Field" title="Cardano.Ledger.Binary.Decoding.Coders">Field</a></code> GADT to construct these pairs, and we must write a function, that
 for each field tag, picks out the correct pair. If the Encode and Decode don't agree on how the
 tags correspond to a particular field, things will fail.</p><pre>boxM :: Word -&gt; Field M
boxM 0 = field update0 From
  where
    update0 n (M _ xs t) = M n xs t
boxM 1 = field update1 From
  where
    update1 xs (M n _ t) = M n xs t
boxM 2 = field update2 From
  where
    update2 t (M n xs _) = M n xs t
boxM n = invalidField n
</pre><p>Finally there is a new constructor for <code><a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a></code>, called <code><a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:SparseKeyed" title="Cardano.Ledger.Binary.Decoding.Coders">SparseKeyed</a></code>, that decodes field
 keyed sparse objects. The user supplies an initial value and field function, and a list
 of tags of the required fields. The initial value should have default values and
 any well type value in required fields. If the encode function (baz above) is
 encoded properly the required fields in the initial value should always be over
 overwritten. If it is not written properly, or a bad encoding comes from somewhere
 else, the intial values in the required fields might survive decoding. The list
 of required fields is checked.</p><pre>instance DecCBOR M where
  decCBOR = decode (SparseKeyed
                      <a href="TT.html">TT</a>                        -- ^ Name of the type being decoded
                      (M 0 [] (Text.pack &quot;a&quot;))  -- ^ The default value
                      boxM                      -- ^ The Field function
                      [(2, <a href="Stringpart.html">Stringpart</a>)]         -- ^ The required Fields
                    )

instance EncCBOR M where
  encCBOR m = encode(encM2 m)
</pre></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:RecD" class="def">RecD</a> &#8759; t &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Decoding.Coders">Dense</a>) t</td><td class="doc"><p>Label the constructor of a Record-like datatype (one with exactly 1 constructor) as a Decode.</p></td></tr><tr><td class="src"><a id="v:SumD" class="def">SumD</a> &#8759; t &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> '<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Open" title="Cardano.Ledger.Binary.Decoding.Coders">Open</a> t</td><td class="doc"><p>Label the constructor of a Record-like datatype (one with multiple constructors) as an Decode.</p></td></tr><tr><td class="src"><a id="v:Summands" class="def">Summands</a> &#8759; <a href="../base/Data-String.html#t:String" title="Data.String">String</a> &#8594; (<a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> '<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Open" title="Cardano.Ledger.Binary.Decoding.Coders">Open</a> t) &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Decoding.Coders">Dense</a>) t</td><td class="doc"><p>Lift a Word to Decode function into a DeCode for a type with multiple constructors.</p></td></tr><tr><td class="src"><a id="v:SparseKeyed" class="def">SparseKeyed</a></td><td class="doc"><p>Lift a Word to Field function into a DeCode for a type with 1 constructor stored sparsely</p></td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src">&#8759; <a href="../base/Data-Typeable.html#t:Typeable" title="Data.Typeable">Typeable</a> t</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src">&#8658; <a href="../base/Data-String.html#t:String" title="Data.String">String</a></dfn><div class="doc"><p>Name of the Type (for error messages)</p></div></li><li><dfn class="src">&#8594; t</dfn><div class="doc"><p>The type with default values in all fields</p></div></li><li><dfn class="src">&#8594; (<a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Field" title="Cardano.Ledger.Binary.Decoding.Coders">Field</a> t)</dfn><div class="doc"><p>What to do with key in the <code>Word</code></p></div></li><li><dfn class="src">&#8594; [(<a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a>, <a href="../base/Data-String.html#t:String" title="Data.String">String</a>)]</dfn><div class="doc"><p>Pairs of keys and Strings which must be there (default values not allowed)</p></div></li><li><dfn class="src">&#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Decoding.Coders">Dense</a>) t</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr><tr><td class="src"><a id="v:KeyedD" class="def">KeyedD</a> &#8759; t &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Sparse" title="Cardano.Ledger.Binary.Decoding.Coders">Sparse</a>) t</td><td class="doc"><p>Label a (component, field, argument) as sparsely stored, which will be populated
 with the default value.</p></td></tr><tr><td class="src"><a id="v:From" class="def">From</a> &#8759; <a href="Cardano-Ledger-Binary-Decoding-DecCBOR.html#t:DecCBOR" title="Cardano.Ledger.Binary.Decoding.DecCBOR">DecCBOR</a> t &#8658; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> w t</td><td class="doc"><p>Label a (component, field, argument). It will be decoded using the existing
 DecCBOR instance at <code>t</code></p></td></tr><tr><td class="src"><a id="v:D" class="def">D</a> &#8759; (&#8704; s. <a href="Cardano-Ledger-Binary-Decoding-Decoder.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding.Decoder">Decoder</a> s t) &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Decoding.Coders">Dense</a>) t</td><td class="doc"><p>Label a (component, field, argument). It will be decoded using the given decoder.</p></td></tr><tr><td class="src"><a id="v:ApplyD" class="def">ApplyD</a> &#8759; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> w1 (a &#8594; t) &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> d) a &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> w1 t</td><td class="doc"><p>Apply a functional decoding (arising from <code><a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:RecD" title="Cardano.Ledger.Binary.Decoding.Coders">RecD</a></code> or <code><a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:SumD" title="Cardano.Ledger.Binary.Decoding.Coders">SumD</a></code>) to get (type wise)
 smaller decoding.</p></td></tr><tr><td class="src"><a id="v:Invalid" class="def">Invalid</a> &#8759; <a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> w t</td><td class="doc"><p>Mark a Word as a Decoding which is not a valid Decoding. Used when decoding sums
 that are tagged out of range.</p></td></tr><tr><td class="src"><a id="v:Map" class="def">Map</a> &#8759; (a &#8594; b) &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> w a &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> w b</td><td class="doc"><p>Used to make (Decode w) an instance of Functor.</p></td></tr><tr><td class="src"><a id="v:TagD" class="def">TagD</a> &#8759; <a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> x) t &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> x) t</td><td class="doc"><p>Assert that the next thing decoded must be tagged with the given word.</p></td></tr><tr><td class="src"><a id="v:Emit" class="def">Emit</a> &#8759; t &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> w t</td><td class="doc"><p>Decode the next thing, not by inspecting the bytes, but pulled out of thin air,
 returning <code>t</code>. Used in sparse decoding.</p></td></tr><tr><td class="src"><a id="v:Ann" class="def">Ann</a> &#8759; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> w t &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> w (<a href="Cardano-Ledger-Binary-Decoding-Annotated.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding.Annotated">Annotator</a> t)</td><td class="doc"><p>Lift a <code>(Decode w t)</code> to a <code>(Decode w (Annotator t))</code>. Used on a (component, field,
 argument) that was not Annotator encoded, but contained in Record or Sum which is
 Annotator encoded.</p></td></tr><tr><td class="src"><a id="v:ApplyAnn" class="def">ApplyAnn</a></td><td class="doc"><p>Apply a functional decoding (arising from <code><a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:RecD" title="Cardano.Ledger.Binary.Decoding.Coders">RecD</a></code> or <code><a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:SumD" title="Cardano.Ledger.Binary.Decoding.Coders">SumD</a></code> that needs to be
 Annotator decoded) to get (type wise) smaller decoding.</p></td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src">&#8759; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> w1 (<a href="Cardano-Ledger-Binary-Decoding-Annotated.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding.Annotated">Annotator</a> (a &#8594; t))</dfn><div class="doc"><p>A functional Decode</p></div></li><li><dfn class="src">&#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> d) (<a href="Cardano-Ledger-Binary-Decoding-Annotated.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding.Annotated">Annotator</a> a)</dfn><div class="doc"><p>An Decoder for an Annotator</p></div></li><li><dfn class="src">&#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> w1 (<a href="Cardano-Ledger-Binary-Decoding-Annotated.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding.Annotated">Annotator</a> t)</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr><tr><td class="src"><a id="v:ApplyErr" class="def">ApplyErr</a> &#8759; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> w1 (a &#8594; <a href="../base/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../base/Data-String.html#t:String" title="Data.String">String</a> t) &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> d) a &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> w1 t</td><td class="doc"><p>the function to Either can raise an error when applied by returning (Left errorMessage)</p></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Decode">Instances</h4><details id="i:Decode" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Decode:Applicative:1"></span> <a href="../base/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> (<a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> d))</span> <a href="src/Cardano.Ledger.Binary.Decoding.Coders.html#line-526" class="link">Source</a> <a href="#t:Decode" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Decode:Applicative:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-Ledger-Binary-Decoding-Coders.html">Cardano.Ledger.Binary.Decoding.Coders</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:pure">pure</a> &#8759; a &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> d) a <a href="file:///nix/store/7wd7lm23cjb3mrp5rh6ag573znf82xlz-ghc-9.2.7-doc/share/doc/ghc/html/libraries/base-4.16.4.0/src" class="link">Source</a> <a href="#v:pure" class="selflink">#</a></p><p class="src"><a href="#v:-60--42--62-">(&lt;*&gt;)</a> &#8759; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> d) (a &#8594; b) &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> d) a &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> d) b <a href="file:///nix/store/7wd7lm23cjb3mrp5rh6ag573znf82xlz-ghc-9.2.7-doc/share/doc/ghc/html/libraries/base-4.16.4.0/src" class="link">Source</a> <a href="#v:-60--42--62-" class="selflink">#</a></p><p class="src"><a href="#v:liftA2">liftA2</a> &#8759; (a &#8594; b &#8594; c) &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> d) a &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> d) b &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> d) c <a href="file:///nix/store/7wd7lm23cjb3mrp5rh6ag573znf82xlz-ghc-9.2.7-doc/share/doc/ghc/html/libraries/base-4.16.4.0/src" class="link">Source</a> <a href="#v:liftA2" class="selflink">#</a></p><p class="src"><a href="#v:-42--62-">(*&gt;)</a> &#8759; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> d) a &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> d) b &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> d) b <a href="file:///nix/store/7wd7lm23cjb3mrp5rh6ag573znf82xlz-ghc-9.2.7-doc/share/doc/ghc/html/libraries/base-4.16.4.0/src" class="link">Source</a> <a href="#v:-42--62-" class="selflink">#</a></p><p class="src"><a href="#v:-60--42-">(&lt;*)</a> &#8759; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> d) a &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> d) b &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> d) a <a href="file:///nix/store/7wd7lm23cjb3mrp5rh6ag573znf82xlz-ghc-9.2.7-doc/share/doc/ghc/html/libraries/base-4.16.4.0/src" class="link">Source</a> <a href="#v:-60--42-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Decode:Functor:2"></span> <a href="../base/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> (<a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> w)</span> <a href="src/Cardano.Ledger.Binary.Decoding.Coders.html#line-522" class="link">Source</a> <a href="#t:Decode" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Decode:Functor:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-Ledger-Binary-Decoding-Coders.html">Cardano.Ledger.Binary.Decoding.Coders</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> &#8759; (a &#8594; b) &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> w a &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> w b <a href="file:///nix/store/7wd7lm23cjb3mrp5rh6ag573znf82xlz-ghc-9.2.7-doc/share/doc/ghc/html/libraries/base-4.16.4.0/src" class="link">Source</a> <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> &#8759; a &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> w b &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> w a <a href="file:///nix/store/7wd7lm23cjb3mrp5rh6ag573znf82xlz-ghc-9.2.7-doc/share/doc/ghc/html/libraries/base-4.16.4.0/src" class="link">Source</a> <a href="#v:-60--36-" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:-60--33-" class="def">(&lt;!)</a> &#8759; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> w1 (a &#8594; t) &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> w) a &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> w1 t <span class="fixity">infixl 4</span><span class="rightedge"></span> <a href="src/Cardano.Ledger.Binary.Decoding.Coders.html#%3C%21" class="link">Source</a> <a href="#v:-60--33-" class="selflink">#</a></p><div class="doc"><p>Infix form of <code>ApplyD</code> with the same infixity and precedence as <code>($)</code>.</p></div></div><div class="top"><p class="src"><a id="v:-60--42--33-" class="def">(&lt;*!)</a> &#8759; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> w1 (<a href="Cardano-Ledger-Binary-Decoding-Annotated.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding.Annotated">Annotator</a> (a &#8594; t)) &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> d) (<a href="Cardano-Ledger-Binary-Decoding-Annotated.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding.Annotated">Annotator</a> a) &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> w1 (<a href="Cardano-Ledger-Binary-Decoding-Annotated.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding.Annotated">Annotator</a> t) <span class="fixity">infixl 4</span><span class="rightedge"></span> <a href="src/Cardano.Ledger.Binary.Decoding.Coders.html#%3C%2A%21" class="link">Source</a> <a href="#v:-60--42--33-" class="selflink">#</a></p><div class="doc"><p>Infix form of <code>ApplyAnn</code> with the same infixity and precedence as <code>($)</code>.</p></div></div><div class="top"><p class="src"><a id="v:-60--63-" class="def">(&lt;?)</a> &#8759; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> w1 (a &#8594; <a href="../base/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../base/Data-String.html#t:String" title="Data.String">String</a> t) &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> d) a &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> w1 t <span class="fixity">infixl 4</span><span class="rightedge"></span> <a href="src/Cardano.Ledger.Binary.Decoding.Coders.html#%3C%3F" class="link">Source</a> <a href="#v:-60--63-" class="selflink">#</a></p><div class="doc"><p>Infix form of <code>ApplyErr</code> with the same infixity and precedence as <code>($)</code>.</p></div></div><div class="top"><p class="src"><a id="v:decode" class="def">decode</a> &#8759; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> w t &#8594; <a href="Cardano-Ledger-Binary-Decoding-Decoder.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding.Decoder">Decoder</a> s t <a href="src/Cardano.Ledger.Binary.Decoding.Coders.html#decode" class="link">Source</a> <a href="#v:decode" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:decodeSparse" class="def">decodeSparse</a> &#8759; <a href="../base/Data-Typeable.html#t:Typeable" title="Data.Typeable">Typeable</a> a &#8658; <a href="../base/Data-String.html#t:String" title="Data.String">String</a> &#8594; a &#8594; (<a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Field" title="Cardano.Ledger.Binary.Decoding.Coders">Field</a> a) &#8594; [(<a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a>, <a href="../base/Data-String.html#t:String" title="Data.String">String</a>)] &#8594; <a href="Cardano-Ledger-Binary-Decoding-Decoder.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding.Decoder">Decoder</a> s a <a href="src/Cardano.Ledger.Binary.Decoding.Coders.html#decodeSparse" class="link">Source</a> <a href="#v:decodeSparse" class="selflink">#</a></p></div><a href="#g:2" id="g:2"><h1>Index types for well-formed Coders.</h1></a><div class="doc"><p>Some CBOR instances wrap encoding sequences with prefixes and suffixes. I.e.
  prefix , encode, encode, encode , ... , suffix.
  There are two kinds of wrapping coders: Nary sums, and Sparsely encoded products.
  Coders in these classes can only be decoded when they are wrapped by their
  closing forms <code><a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Summands" title="Cardano.Ledger.Binary.Decoding.Coders">Summands</a></code> and <code><a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:SparseKeyed" title="Cardano.Ledger.Binary.Decoding.Coders">SparseKeyed</a></code>. Another dimension, where we use indexes
  to maintain type safety, are records which can be
  encoded densely (all their fields serialised) or sparsely (only some of their
  fields). We use indexes to types to try and mark (and enforce) these distinctions.</p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Density" class="def">Density</a> <a href="src/Cardano.Ledger.Binary.Decoding.Coders.html#Density" class="link">Source</a> <a href="#t:Density" class="selflink">#</a></p><div class="doc"><p>Index for record density. Distinguishing (all the fields) from (some of the fields).</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Dense" class="def">Dense</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Sparse" class="def">Sparse</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Wrapped" class="def">Wrapped</a> <span class="keyword">where</span> <a href="src/Cardano.Ledger.Binary.Decoding.Coders.html#Wrapped" class="link">Source</a> <a href="#t:Wrapped" class="selflink">#</a></p><div class="doc"><p>Index for a wrapped Coder. Wrapping is necessary for <code><a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Summands" title="Cardano.Ledger.Binary.Decoding.Coders">Summands</a></code> and <code><a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:SparseKeyed" title="Cardano.Ledger.Binary.Decoding.Coders">SparseKeyed</a></code>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Open" class="def">Open</a> &#8759; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Wrapped" title="Cardano.Ledger.Binary.Decoding.Coders">Wrapped</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Closed" class="def">Closed</a> &#8759; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Density" title="Cardano.Ledger.Binary.Decoding.Coders">Density</a> &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Wrapped" title="Cardano.Ledger.Binary.Decoding.Coders">Wrapped</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Field" class="def">Field</a> t <span class="keyword">where</span> <a href="src/Cardano.Ledger.Binary.Decoding.Coders.html#Field" class="link">Source</a> <a href="#t:Field" class="selflink">#</a></p><div class="doc"><p>A Field pairs an update function and a decoder for one field of a Sparse record.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Field" class="def">Field</a> &#8759; (x &#8594; t &#8594; t) &#8594; (&#8704; s. <a href="Cardano-Ledger-Binary-Decoding-Decoder.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding.Decoder">Decoder</a> s x) &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Field" title="Cardano.Ledger.Binary.Decoding.Coders">Field</a> t</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:ofield" class="def">ofield</a> &#8759; (<a href="../cardano-strict-containers/Data-Maybe-Strict.html#t:StrictMaybe" title="Data.Maybe.Strict">StrictMaybe</a> x &#8594; t &#8594; t) &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> d) x &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Field" title="Cardano.Ledger.Binary.Decoding.Coders">Field</a> t <a href="src/Cardano.Ledger.Binary.Decoding.Coders.html#ofield" class="link">Source</a> <a href="#v:ofield" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:invalidField" class="def">invalidField</a> &#8759; &#8704; t. <a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Field" title="Cardano.Ledger.Binary.Decoding.Coders">Field</a> t <a href="src/Cardano.Ledger.Binary.Decoding.Coders.html#invalidField" class="link">Source</a> <a href="#v:invalidField" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:field" class="def">field</a> &#8759; (x &#8594; t &#8594; t) &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> d) x &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Field" title="Cardano.Ledger.Binary.Decoding.Coders">Field</a> t <a href="src/Cardano.Ledger.Binary.Decoding.Coders.html#field" class="link">Source</a> <a href="#v:field" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:fieldA" class="def">fieldA</a> &#8759; <a href="../base/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> ann &#8658; (x &#8594; t &#8594; t) &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> d) x &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Field" title="Cardano.Ledger.Binary.Decoding.Coders">Field</a> (ann t) <a href="src/Cardano.Ledger.Binary.Decoding.Coders.html#fieldA" class="link">Source</a> <a href="#v:fieldA" class="selflink">#</a></p><div class="doc"><p>Sparse decode something with a (DecCBOR (Annotator t)) instance
 A special case of <code><a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:field" title="Cardano.Ledger.Binary.Decoding.Coders">field</a></code></p></div></div><div class="top"><p class="src"><a id="v:fieldAA" class="def">fieldAA</a> &#8759; <a href="../base/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> ann &#8658; (x &#8594; t &#8594; t) &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> d) (ann x) &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Field" title="Cardano.Ledger.Binary.Decoding.Coders">Field</a> (ann t) <a href="src/Cardano.Ledger.Binary.Decoding.Coders.html#fieldAA" class="link">Source</a> <a href="#v:fieldAA" class="selflink">#</a></p><div class="doc"><p>Sparse decode something with a (DecCBOR (Annotator t)) instance</p></div></div><a href="#g:3" id="g:3"><h1>Using Duals</h1></a><div class="top"><p class="src"><a id="v:decodeDual" class="def">decodeDual</a> &#8759; &#8704; t. (<a href="Cardano-Ledger-Binary-Encoding-EncCBOR.html#t:EncCBOR" title="Cardano.Ledger.Binary.Encoding.EncCBOR">EncCBOR</a> t, <a href="Cardano-Ledger-Binary-Decoding-DecCBOR.html#t:DecCBOR" title="Cardano.Ledger.Binary.Decoding.DecCBOR">DecCBOR</a> t) &#8658; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Decoding.Coders">Dense</a>) t <a href="src/Cardano.Ledger.Binary.Decoding.Coders.html#decodeDual" class="link">Source</a> <a href="#v:decodeDual" class="selflink">#</a></p><div class="doc"><p>Use <code><a href="Cardano-Ledger-Binary-Coders.html#v:encodeDual" title="Cardano.Ledger.Binary.Coders">encodeDual</a></code> and <code><a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:decodeDual" title="Cardano.Ledger.Binary.Decoding.Coders">decodeDual</a></code>, when you want to
 guarantee that a type has both <code><a href="Cardano-Ledger-Binary-Encoding-EncCBOR.html#t:EncCBOR" title="Cardano.Ledger.Binary.Encoding.EncCBOR">EncCBOR</a></code> and <code>FromCBR</code> instances.</p></div></div><a href="#g:4" id="g:4"><h1>Containers, Combinators</h1></a><div class="top"><p class="src"><a id="v:listDecodeA" class="def">listDecodeA</a> &#8759; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Decoding.Coders">Dense</a>) (<a href="Cardano-Ledger-Binary-Decoding-Annotated.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding.Annotated">Annotator</a> x) &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Decoding.Coders">Dense</a>) (<a href="Cardano-Ledger-Binary-Decoding-Annotated.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding.Annotated">Annotator</a> [x]) <a href="src/Cardano.Ledger.Binary.Decoding.Coders.html#listDecodeA" class="link">Source</a> <a href="#v:listDecodeA" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mapDecodeA" class="def">mapDecodeA</a> &#8759; <a href="../base/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> k &#8658; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Decoding.Coders">Dense</a>) (<a href="Cardano-Ledger-Binary-Decoding-Annotated.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding.Annotated">Annotator</a> k) &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Decoding.Coders">Dense</a>) (<a href="Cardano-Ledger-Binary-Decoding-Annotated.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding.Annotated">Annotator</a> v) &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Decoding.Coders">Dense</a>) (<a href="Cardano-Ledger-Binary-Decoding-Annotated.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding.Annotated">Annotator</a> (Map k v)) <a href="src/Cardano.Ledger.Binary.Decoding.Coders.html#mapDecodeA" class="link">Source</a> <a href="#v:mapDecodeA" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:setDecodeA" class="def">setDecodeA</a> &#8759; <a href="../base/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> x &#8658; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Decoding.Coders">Dense</a>) (<a href="Cardano-Ledger-Binary-Decoding-Annotated.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding.Annotated">Annotator</a> x) &#8594; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Decode" title="Cardano.Ledger.Binary.Decoding.Coders">Decode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Decoding.Coders">Dense</a>) (<a href="Cardano-Ledger-Binary-Decoding-Annotated.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding.Annotated">Annotator</a> (Set x)) <a href="src/Cardano.Ledger.Binary.Decoding.Coders.html#setDecodeA" class="link">Source</a> <a href="#v:setDecodeA" class="selflink">#</a></p></div><a href="#g:5" id="g:5"><h1>Low level (Encoding/Decoder) utility functions</h1></a><div class="top"><p class="src"><a id="v:decodeRecordNamed" class="def">decodeRecordNamed</a> &#8759; Text &#8594; (a &#8594; <a href="../base/Data-Int.html#t:Int" title="Data.Int">Int</a>) &#8594; <a href="Cardano-Ledger-Binary-Decoding-Decoder.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding.Decoder">Decoder</a> s a &#8594; <a href="Cardano-Ledger-Binary-Decoding-Decoder.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding.Decoder">Decoder</a> s a <a href="src/Cardano.Ledger.Binary.Decoding.Decoder.html#decodeRecordNamed" class="link">Source</a> <a href="#v:decodeRecordNamed" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:decodeRecordNamedT" class="def">decodeRecordNamedT</a> &#8759; (MonadTrans m, <a href="../base/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> (m (<a href="Cardano-Ledger-Binary-Decoding-Decoder.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding.Decoder">Decoder</a> s))) &#8658; Text &#8594; (a &#8594; <a href="../base/Data-Int.html#t:Int" title="Data.Int">Int</a>) &#8594; m (<a href="Cardano-Ledger-Binary-Decoding-Decoder.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding.Decoder">Decoder</a> s) a &#8594; m (<a href="Cardano-Ledger-Binary-Decoding-Decoder.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding.Decoder">Decoder</a> s) a <a href="src/Cardano.Ledger.Binary.Decoding.Decoder.html#decodeRecordNamedT" class="link">Source</a> <a href="#v:decodeRecordNamedT" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:decodeRecordSum" class="def">decodeRecordSum</a> &#8759; <a href="../base/Data-String.html#t:String" title="Data.String">String</a> &#8594; (<a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; <a href="Cardano-Ledger-Binary-Decoding-Decoder.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding.Decoder">Decoder</a> s (<a href="../base/Data-Int.html#t:Int" title="Data.Int">Int</a>, a)) &#8594; <a href="Cardano-Ledger-Binary-Decoding-Decoder.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding.Decoder">Decoder</a> s a <a href="src/Cardano.Ledger.Binary.Decoding.Decoder.html#decodeRecordSum" class="link">Source</a> <a href="#v:decodeRecordSum" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:invalidKey" class="def">invalidKey</a> &#8759; <a href="../base/Control-Monad-Fail.html#t:MonadFail" title="Control.Monad.Fail">MonadFail</a> m &#8658; <a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; m a <a href="src/Cardano.Ledger.Binary.Plain.html#invalidKey" class="link">Source</a> <a href="#v:invalidKey" class="selflink">#</a></p><div class="doc"><p>Report an error when a numeric key of the type constructor doesn't match.</p></div></div><div class="top"><p class="src"><a id="v:unusedRequiredKeys" class="def">unusedRequiredKeys</a> &#8759; Set <a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; [(<a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a>, <a href="../base/Data-String.html#t:String" title="Data.String">String</a>)] &#8594; <a href="../base/Data-String.html#t:String" title="Data.String">String</a> &#8594; <a href="Cardano-Ledger-Binary-Decoding-Decoder.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding.Decoder">Decoder</a> s a <a href="src/Cardano.Ledger.Binary.Decoding.Coders.html#unusedRequiredKeys" class="link">Source</a> <a href="#v:unusedRequiredKeys" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:duplicateKey" class="def">duplicateKey</a> &#8759; <a href="../base/Data-String.html#t:String" title="Data.String">String</a> &#8594; <a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; <a href="Cardano-Ledger-Binary-Decoding-Decoder.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding.Decoder">Decoder</a> s a <a href="src/Cardano.Ledger.Binary.Decoding.Coders.html#duplicateKey" class="link">Source</a> <a href="#v:duplicateKey" class="selflink">#</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.26.0</p></div></body></html>