<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head id="head" data-base-url=".."><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Cardano.Chain.Common.CBOR</title><link href="../linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="../quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="../haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">cardano-ledger-byron-1.0.0.0: The blockchain layer of Cardano during the Byron era</span><ul class="links" id="page-menu"><li><a href="src/Cardano.Chain.Common.CBOR.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Cardano.Chain.Common.CBOR</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">CBOR in CBOR</a></li><li><a href="#g:2">Cyclic redundancy check</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>CBOR encoding utilities needed for the Byron transaction format</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:encodeKnownCborDataItem">encodeKnownCborDataItem</a> &#8759; <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Encoding-EncCBOR.html#t:EncCBOR" title="Cardano.Ledger.Binary.Encoding.EncCBOR">EncCBOR</a> a &#8658; a &#8594; <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Encoding-Encoder.html#t:Encoding" title="Cardano.Ledger.Binary.Encoding.Encoder">Encoding</a></li><li class="src short"><a href="#v:encodeUnknownCborDataItem">encodeUnknownCborDataItem</a> &#8759; <a href="../cardano-prelude/Cardano-Prelude-Base.html#t:LByteString" title="Cardano.Prelude.Base">LByteString</a> &#8594; <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Encoding-Encoder.html#t:Encoding" title="Cardano.Ledger.Binary.Encoding.Encoder">Encoding</a></li><li class="src short"><a href="#v:knownCborDataItemSizeExpr">knownCborDataItemSizeExpr</a> &#8759; <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Encoding-EncCBOR.html#t:Size" title="Cardano.Ledger.Binary.Encoding.EncCBOR">Size</a> &#8594; <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Encoding-EncCBOR.html#t:Size" title="Cardano.Ledger.Binary.Encoding.EncCBOR">Size</a></li><li class="src short"><a href="#v:unknownCborDataItemSizeExpr">unknownCborDataItemSizeExpr</a> &#8759; <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Encoding-EncCBOR.html#t:Size" title="Cardano.Ledger.Binary.Encoding.EncCBOR">Size</a> &#8594; <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Encoding-EncCBOR.html#t:Size" title="Cardano.Ledger.Binary.Encoding.EncCBOR">Size</a></li><li class="src short"><a href="#v:decodeKnownCborDataItem">decodeKnownCborDataItem</a> &#8759; <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Decoding-DecCBOR.html#t:DecCBOR" title="Cardano.Ledger.Binary.Decoding.DecCBOR">DecCBOR</a> a &#8658; <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Decoding-Decoder.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding.Decoder">Decoder</a> s a</li><li class="src short"><a href="#v:decodeUnknownCborDataItem">decodeUnknownCborDataItem</a> &#8759; <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Decoding-Decoder.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding.Decoder">Decoder</a> s <a href="../cardano-crypto-class/Cardano-Crypto-Hash-Class.html#t:ByteString" title="Cardano.Crypto.Hash.Class">ByteString</a></li><li class="src short"><a href="#v:encodeCrcProtected">encodeCrcProtected</a> &#8759; <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Encoding-EncCBOR.html#t:EncCBOR" title="Cardano.Ledger.Binary.Encoding.EncCBOR">EncCBOR</a> a &#8658; a &#8594; <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Encoding-Encoder.html#t:Encoding" title="Cardano.Ledger.Binary.Encoding.Encoder">Encoding</a></li><li class="src short"><a href="#v:encodedCrcProtectedSizeExpr">encodedCrcProtectedSizeExpr</a> &#8759; &#8704; a. <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Encoding-EncCBOR.html#t:EncCBOR" title="Cardano.Ledger.Binary.Encoding.EncCBOR">EncCBOR</a> a &#8658; (&#8704; t. <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Encoding-EncCBOR.html#t:EncCBOR" title="Cardano.Ledger.Binary.Encoding.EncCBOR">EncCBOR</a> t &#8658; <a href="../base/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> t &#8594; <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Encoding-EncCBOR.html#t:Size" title="Cardano.Ledger.Binary.Encoding.EncCBOR">Size</a>) &#8594; <a href="../base/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> a &#8594; <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Encoding-EncCBOR.html#t:Size" title="Cardano.Ledger.Binary.Encoding.EncCBOR">Size</a></li><li class="src short"><a href="#v:decodeCrcProtected">decodeCrcProtected</a> &#8759; &#8704; s a. <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Decoding-DecCBOR.html#t:DecCBOR" title="Cardano.Ledger.Binary.Decoding.DecCBOR">DecCBOR</a> a &#8658; <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Decoding-Decoder.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding.Decoder">Decoder</a> s a</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>CBOR in CBOR</h1></a><div class="doc"><p>These utilities are is used in the Byron-era chain encodings in cases
 where there are extensible parts of the encoding. In thse cases we have to
 be able to handle unknown extensions and thus decode values where we do
 not know the concrete type.</p><p>To solve this, the serialised representation uses nested CBOR-in-CBOR
 <a href="https://tools.ietf.org/html/rfc7049#section-2.4.4.1">https://tools.ietf.org/html/rfc7049#section-2.4.4.1</a>. The nesting means
 that the size is known without having to decode the body in those cases
 where we cannot decode the body.</p><p>The functions in this module handle the encoding and decoding for the
 cases of the known and unknown types.</p></div><div class="top"><p class="src"><a id="v:encodeKnownCborDataItem" class="def">encodeKnownCborDataItem</a> &#8759; <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Encoding-EncCBOR.html#t:EncCBOR" title="Cardano.Ledger.Binary.Encoding.EncCBOR">EncCBOR</a> a &#8658; a &#8594; <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Encoding-Encoder.html#t:Encoding" title="Cardano.Ledger.Binary.Encoding.Encoder">Encoding</a> <a href="src/Cardano.Chain.Common.CBOR.html#encodeKnownCborDataItem" class="link">Source</a> <a href="#v:encodeKnownCborDataItem" class="selflink">#</a></p><div class="doc"><p>This is an alias for <code><a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Encoding.html#v:encodeNestedCbor" title="Cardano.Ledger.Binary.Encoding">encodeNestedCbor</a></code>.</p><p>This function is used to handle the case of a known type, but compatible
 with the encoding used by <code><a href="Cardano-Chain-Common-CBOR.html#v:encodeUnknownCborDataItem" title="Cardano.Chain.Common.CBOR">encodeUnknownCborDataItem</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:encodeUnknownCborDataItem" class="def">encodeUnknownCborDataItem</a> &#8759; <a href="../cardano-prelude/Cardano-Prelude-Base.html#t:LByteString" title="Cardano.Prelude.Base">LByteString</a> &#8594; <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Encoding-Encoder.html#t:Encoding" title="Cardano.Ledger.Binary.Encoding.Encoder">Encoding</a> <a href="src/Cardano.Chain.Common.CBOR.html#encodeUnknownCborDataItem" class="link">Source</a> <a href="#v:encodeUnknownCborDataItem" class="selflink">#</a></p><div class="doc"><p>This is an alias for <code><a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Encoding.html#v:encodeNestedCborBytes" title="Cardano.Ledger.Binary.Encoding">encodeNestedCborBytes</a></code>, so all its details apply.</p><p>This function is used to handle the case of an unknown type, so it takes an
 opaque blob that is the representation of the value of the unknown type.</p></div></div><div class="top"><p class="src"><a id="v:knownCborDataItemSizeExpr" class="def">knownCborDataItemSizeExpr</a> &#8759; <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Encoding-EncCBOR.html#t:Size" title="Cardano.Ledger.Binary.Encoding.EncCBOR">Size</a> &#8594; <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Encoding-EncCBOR.html#t:Size" title="Cardano.Ledger.Binary.Encoding.EncCBOR">Size</a> <a href="src/Cardano.Chain.Common.CBOR.html#knownCborDataItemSizeExpr" class="link">Source</a> <a href="#v:knownCborDataItemSizeExpr" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:unknownCborDataItemSizeExpr" class="def">unknownCborDataItemSizeExpr</a> &#8759; <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Encoding-EncCBOR.html#t:Size" title="Cardano.Ledger.Binary.Encoding.EncCBOR">Size</a> &#8594; <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Encoding-EncCBOR.html#t:Size" title="Cardano.Ledger.Binary.Encoding.EncCBOR">Size</a> <a href="src/Cardano.Chain.Common.CBOR.html#unknownCborDataItemSizeExpr" class="link">Source</a> <a href="#v:unknownCborDataItemSizeExpr" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:decodeKnownCborDataItem" class="def">decodeKnownCborDataItem</a> &#8759; <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Decoding-DecCBOR.html#t:DecCBOR" title="Cardano.Ledger.Binary.Decoding.DecCBOR">DecCBOR</a> a &#8658; <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Decoding-Decoder.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding.Decoder">Decoder</a> s a <a href="src/Cardano.Chain.Common.CBOR.html#decodeKnownCborDataItem" class="link">Source</a> <a href="#v:decodeKnownCborDataItem" class="selflink">#</a></p><div class="doc"><p>This is an alias for <code><a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Decoding.html#v:decodeNestedCbor" title="Cardano.Ledger.Binary.Decoding">decodeNestedCbor</a></code>.</p><p>This function is used to handle the case of a known type, but compatible
 with the encoding used by <code><a href="Cardano-Chain-Common-CBOR.html#v:decodeUnknownCborDataItem" title="Cardano.Chain.Common.CBOR">decodeUnknownCborDataItem</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:decodeUnknownCborDataItem" class="def">decodeUnknownCborDataItem</a> &#8759; <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Decoding-Decoder.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding.Decoder">Decoder</a> s <a href="../cardano-crypto-class/Cardano-Crypto-Hash-Class.html#t:ByteString" title="Cardano.Crypto.Hash.Class">ByteString</a> <a href="src/Cardano.Chain.Common.CBOR.html#decodeUnknownCborDataItem" class="link">Source</a> <a href="#v:decodeUnknownCborDataItem" class="selflink">#</a></p><div class="doc"><p>This is an alias for <code><a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Decoding.html#v:decodeNestedCborBytes" title="Cardano.Ledger.Binary.Decoding">decodeNestedCborBytes</a></code>, so all its details apply.</p><p>This function is used to handle the case of an unknown type, so it returns
 an opaque blob that is the representation of the value of the unknown type.</p></div></div><a href="#g:2" id="g:2"><h1>Cyclic redundancy check</h1></a><div class="doc"><p>The Byron era address format includes a CRC to help resist accidental
 corruption. These functions deal with encoding and decoding the format
 that is used.</p></div><div class="top"><p class="src"><a id="v:encodeCrcProtected" class="def">encodeCrcProtected</a> &#8759; <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Encoding-EncCBOR.html#t:EncCBOR" title="Cardano.Ledger.Binary.Encoding.EncCBOR">EncCBOR</a> a &#8658; a &#8594; <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Encoding-Encoder.html#t:Encoding" title="Cardano.Ledger.Binary.Encoding.Encoder">Encoding</a> <a href="src/Cardano.Chain.Common.CBOR.html#encodeCrcProtected" class="link">Source</a> <a href="#v:encodeCrcProtected" class="selflink">#</a></p><div class="doc"><p>Encodes a value of type <code>a</code>, protecting it from accidental corruption by
 protecting it with a CRC.</p></div></div><div class="top"><p class="src"><a id="v:encodedCrcProtectedSizeExpr" class="def">encodedCrcProtectedSizeExpr</a> &#8759; &#8704; a. <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Encoding-EncCBOR.html#t:EncCBOR" title="Cardano.Ledger.Binary.Encoding.EncCBOR">EncCBOR</a> a &#8658; (&#8704; t. <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Encoding-EncCBOR.html#t:EncCBOR" title="Cardano.Ledger.Binary.Encoding.EncCBOR">EncCBOR</a> t &#8658; <a href="../base/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> t &#8594; <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Encoding-EncCBOR.html#t:Size" title="Cardano.Ledger.Binary.Encoding.EncCBOR">Size</a>) &#8594; <a href="../base/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> a &#8594; <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Encoding-EncCBOR.html#t:Size" title="Cardano.Ledger.Binary.Encoding.EncCBOR">Size</a> <a href="src/Cardano.Chain.Common.CBOR.html#encodedCrcProtectedSizeExpr" class="link">Source</a> <a href="#v:encodedCrcProtectedSizeExpr" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:decodeCrcProtected" class="def">decodeCrcProtected</a> &#8759; &#8704; s a. <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Decoding-DecCBOR.html#t:DecCBOR" title="Cardano.Ledger.Binary.Decoding.DecCBOR">DecCBOR</a> a &#8658; <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Decoding-Decoder.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding.Decoder">Decoder</a> s a <a href="src/Cardano.Chain.Common.CBOR.html#decodeCrcProtected" class="link">Source</a> <a href="#v:decodeCrcProtected" class="selflink">#</a></p><div class="doc"><p>Decodes a CBOR blob into a value of type <code>a</code>, checking the serialised CRC
   corresponds to the computed one</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.26.0</p></div></body></html>