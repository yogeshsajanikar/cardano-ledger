<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head id="head" data-base-url=".."><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Cardano.Ledger.Era</title><link href="../linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="../quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="../haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">cardano-ledger-core-1.2.0.0: Core components of Cardano ledgers from the Shelley release on.</span><ul class="links" id="page-menu"><li><a href="src/Cardano.Ledger.Era.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Cardano.Ledger.Era</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Support for multiple (Shelley-based) eras in the ledger.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">class</span> (<a href="Cardano-Ledger-Crypto.html#t:Crypto" title="Cardano.Ledger.Crypto">Crypto</a> (<a href="Cardano-Ledger-Era.html#t:EraCrypto" title="Cardano.Ledger.Era">EraCrypto</a> era), <a href="../base/Data-Typeable.html#t:Typeable" title="Data.Typeable">Typeable</a> era, <a href="../base/GHC-TypeLits.html#t:KnownNat" title="GHC.TypeLits">KnownNat</a> (<a href="Cardano-Ledger-Era.html#t:ProtVerLow" title="Cardano.Ledger.Era">ProtVerLow</a> era), <a href="../base/GHC-TypeLits.html#t:KnownNat" title="GHC.TypeLits">KnownNat</a> (<a href="Cardano-Ledger-Era.html#t:ProtVerHigh" title="Cardano.Ledger.Era">ProtVerHigh</a> era), <a href="Cardano-Ledger-Era.html#t:ProtVerLow" title="Cardano.Ledger.Era">ProtVerLow</a> era <a href="../base/GHC-TypeLits.html#t:-60--61-" title="GHC.TypeLits">&lt;=</a> <a href="Cardano-Ledger-Era.html#t:ProtVerHigh" title="Cardano.Ledger.Era">ProtVerHigh</a> era, <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Version.html#t:MinVersion" title="Cardano.Ledger.Binary.Version">MinVersion</a> <a href="../base/GHC-TypeLits.html#t:-60--61-" title="GHC.TypeLits">&lt;=</a> <a href="Cardano-Ledger-Era.html#t:ProtVerLow" title="Cardano.Ledger.Era">ProtVerLow</a> era, <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Version.html#t:MinVersion" title="Cardano.Ledger.Binary.Version">MinVersion</a> <a href="../base/GHC-TypeLits.html#t:-60--61-" title="GHC.TypeLits">&lt;=</a> <a href="Cardano-Ledger-Era.html#t:ProtVerHigh" title="Cardano.Ledger.Era">ProtVerHigh</a> era, <a href="../base/GHC-TypeLits.html#t:CmpNat" title="GHC.TypeLits">CmpNat</a> (<a href="Cardano-Ledger-Era.html#t:ProtVerLow" title="Cardano.Ledger.Era">ProtVerLow</a> era) <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Version.html#t:MaxVersion" title="Cardano.Ledger.Binary.Version">MaxVersion</a> ~ '<a href="../base/Data-Ord.html#v:LT" title="Data.Ord">LT</a>, <a href="../base/GHC-TypeLits.html#t:CmpNat" title="GHC.TypeLits">CmpNat</a> (<a href="Cardano-Ledger-Era.html#t:ProtVerHigh" title="Cardano.Ledger.Era">ProtVerHigh</a> era) <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Version.html#t:MaxVersion" title="Cardano.Ledger.Binary.Version">MaxVersion</a> ~ '<a href="../base/Data-Ord.html#v:LT" title="Data.Ord">LT</a>, <a href="Cardano-Ledger-Era.html#t:ProtVerLow" title="Cardano.Ledger.Era">ProtVerLow</a> era <a href="../base/GHC-TypeLits.html#t:-60--61-" title="GHC.TypeLits">&lt;=</a> <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Version.html#t:MaxVersion" title="Cardano.Ledger.Binary.Version">MaxVersion</a>, <a href="Cardano-Ledger-Era.html#t:ProtVerHigh" title="Cardano.Ledger.Era">ProtVerHigh</a> era <a href="../base/GHC-TypeLits.html#t:-60--61-" title="GHC.TypeLits">&lt;=</a> <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Version.html#t:MaxVersion" title="Cardano.Ledger.Binary.Version">MaxVersion</a>) &#8658; <a href="#t:Era">Era</a> era <span class="keyword">where</span><ul class="subs"><li><span class="keyword">type</span> <a href="#t:EraCrypto">EraCrypto</a> era &#8759; <a href="../base/Data-Kind.html#t:Type" title="Data.Kind">Type</a></li><li><span class="keyword">type</span> <a href="#t:PreviousEra">PreviousEra</a> era = (r &#8759; <a href="../base/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) <span class="keyword">|</span> r &#8594; era</li><li><span class="keyword">type</span> <a href="#t:ProtVerLow">ProtVerLow</a> era &#8759; <a href="../base/GHC-TypeLits.html#t:Nat" title="GHC.TypeLits">Nat</a></li><li><span class="keyword">type</span> <a href="#t:ProtVerHigh">ProtVerHigh</a> era &#8759; <a href="../base/GHC-TypeLits.html#t:Nat" title="GHC.TypeLits">Nat</a></li></ul></li><li class="src short"><a href="#v:getTxOutAddr">getTxOutAddr</a> &#8759; <a href="Cardano-Ledger-Core.html#t:EraTxOut" title="Cardano.Ledger.Core">EraTxOut</a> era &#8658; <a href="Cardano-Ledger-Core.html#t:TxOut" title="Cardano.Ledger.Core">TxOut</a> era &#8594; <a href="Cardano-Ledger-Address.html#t:Addr" title="Cardano.Ledger.Address">Addr</a> (<a href="Cardano-Ledger-Era.html#t:EraCrypto" title="Cardano.Ledger.Era">EraCrypto</a> era)</li><li class="src short"><a href="#v:getTxOutCompactAddr">getTxOutCompactAddr</a> &#8759; <a href="Cardano-Ledger-Core.html#t:EraTxOut" title="Cardano.Ledger.Core">EraTxOut</a> era &#8658; <a href="Cardano-Ledger-Core.html#t:TxOut" title="Cardano.Ledger.Core">TxOut</a> era &#8594; <a href="Cardano-Ledger-Address.html#t:CompactAddr" title="Cardano.Ledger.Address">CompactAddr</a> (<a href="Cardano-Ledger-Era.html#t:EraCrypto" title="Cardano.Ledger.Era">EraCrypto</a> era)</li><li class="src short"><a href="#v:getTxOutEitherAddr">getTxOutEitherAddr</a> &#8759; <a href="Cardano-Ledger-Core.html#t:EraTxOut" title="Cardano.Ledger.Core">EraTxOut</a> era &#8658; <a href="Cardano-Ledger-Core.html#t:TxOut" title="Cardano.Ledger.Core">TxOut</a> era &#8594; <a href="../base/Data-Either.html#t:Either" title="Data.Either">Either</a> (<a href="Cardano-Ledger-Address.html#t:Addr" title="Cardano.Ledger.Address">Addr</a> (<a href="Cardano-Ledger-Era.html#t:EraCrypto" title="Cardano.Ledger.Era">EraCrypto</a> era)) (<a href="Cardano-Ledger-Address.html#t:CompactAddr" title="Cardano.Ledger.Address">CompactAddr</a> (<a href="Cardano-Ledger-Era.html#t:EraCrypto" title="Cardano.Ledger.Era">EraCrypto</a> era))</li><li class="src short"><a href="#v:getTxOutBootstrapAddress">getTxOutBootstrapAddress</a> &#8759; <a href="Cardano-Ledger-Core.html#t:EraTxOut" title="Cardano.Ledger.Core">EraTxOut</a> era &#8658; <a href="Cardano-Ledger-Core.html#t:TxOut" title="Cardano.Ledger.Core">TxOut</a> era &#8594; <a href="../base/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Cardano-Ledger-Address.html#t:BootstrapAddress" title="Cardano.Ledger.Address">BootstrapAddress</a> (<a href="Cardano-Ledger-Era.html#t:EraCrypto" title="Cardano.Ledger.Era">EraCrypto</a> era))</li><li class="src short"><a href="#v:getAllTxInputs">getAllTxInputs</a> &#8759; <a href="Cardano-Ledger-Core.html#t:EraTxBody" title="Cardano.Ledger.Core">EraTxBody</a> era &#8658; <a href="Cardano-Ledger-Core.html#t:TxBody" title="Cardano.Ledger.Core">TxBody</a> era &#8594; <a href="../cardano-prelude/Cardano-Prelude-Base.html#t:Set" title="Cardano.Prelude.Base">Set</a> (<a href="Cardano-Ledger-TxIn.html#t:TxIn" title="Cardano.Ledger.TxIn">TxIn</a> (<a href="Cardano-Ledger-Era.html#t:EraCrypto" title="Cardano.Ledger.Era">EraCrypto</a> era))</li><li class="src short"><span class="keyword">type family</span> <a href="#t:TranslationContext">TranslationContext</a> era &#8759; <a href="../base/Data-Kind.html#t:Type" title="Data.Kind">Type</a></li><li class="src short"><span class="keyword">class</span> (<a href="Cardano-Ledger-Era.html#t:Era" title="Cardano.Ledger.Era">Era</a> era, <a href="Cardano-Ledger-Era.html#t:Era" title="Cardano.Ledger.Era">Era</a> (<a href="Cardano-Ledger-Era.html#t:PreviousEra" title="Cardano.Ledger.Era">PreviousEra</a> era)) &#8658; <a href="#t:TranslateEra">TranslateEra</a> era f <span class="keyword">where</span><ul class="subs"><li><span class="keyword">type</span> <a href="#t:TranslationError">TranslationError</a> era f &#8759; <a href="../base/Data-Kind.html#t:Type" title="Data.Kind">Type</a></li><li><a href="#v:translateEra">translateEra</a> &#8759; <a href="Cardano-Ledger-Era.html#t:TranslationContext" title="Cardano.Ledger.Era">TranslationContext</a> era &#8594; f (<a href="Cardano-Ledger-Era.html#t:PreviousEra" title="Cardano.Ledger.Era">PreviousEra</a> era) &#8594; <a href="../cardano-prelude/Cardano-Prelude-Base.html#t:Except" title="Cardano.Prelude.Base">Except</a> (<a href="Cardano-Ledger-Era.html#t:TranslationError" title="Cardano.Ledger.Era">TranslationError</a> era f) (f era)</li></ul></li><li class="src short"><a href="#v:translateEra-39-">translateEra'</a> &#8759; (<a href="Cardano-Ledger-Era.html#t:TranslateEra" title="Cardano.Ledger.Era">TranslateEra</a> era f, <a href="Cardano-Ledger-Era.html#t:TranslationError" title="Cardano.Ledger.Era">TranslationError</a> era f ~ <a href="../base/Data-Void.html#t:Void" title="Data.Void">Void</a>) &#8658; <a href="Cardano-Ledger-Era.html#t:TranslationContext" title="Cardano.Ledger.Era">TranslationContext</a> era &#8594; f (<a href="Cardano-Ledger-Era.html#t:PreviousEra" title="Cardano.Ledger.Era">PreviousEra</a> era) &#8594; f era</li><li class="src short"><a href="#v:translateEraMaybe">translateEraMaybe</a> &#8759; (<a href="Cardano-Ledger-Era.html#t:TranslateEra" title="Cardano.Ledger.Era">TranslateEra</a> era f, <a href="Cardano-Ledger-Era.html#t:TranslationError" title="Cardano.Ledger.Era">TranslationError</a> era f ~ ()) &#8658; <a href="Cardano-Ledger-Era.html#t:TranslationContext" title="Cardano.Ledger.Era">TranslationContext</a> era &#8594; f (<a href="Cardano-Ledger-Era.html#t:PreviousEra" title="Cardano.Ledger.Era">PreviousEra</a> era) &#8594; <a href="../base/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (f era)</li><li class="src short"><span class="keyword">class</span> (<a href="Cardano-Ledger-Core.html#t:EraTx" title="Cardano.Ledger.Core">EraTx</a> era, <a href="../base/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Cardano-Ledger-Era.html#t:TxSeq" title="Cardano.Ledger.Era">TxSeq</a> era), <a href="../base/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Cardano-Ledger-Era.html#t:TxSeq" title="Cardano.Ledger.Era">TxSeq</a> era), <a href="Cardano-Ledger-Serialization.html#t:EncCBORGroup" title="Cardano.Ledger.Serialization">EncCBORGroup</a> (<a href="Cardano-Ledger-Era.html#t:TxSeq" title="Cardano.Ledger.Era">TxSeq</a> era), <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Decoding-DecCBOR.html#t:DecCBOR" title="Cardano.Ledger.Binary.Decoding.DecCBOR">DecCBOR</a> (<a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Decoding-Annotated.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding.Annotated">Annotator</a> (<a href="Cardano-Ledger-Era.html#t:TxSeq" title="Cardano.Ledger.Era">TxSeq</a> era))) &#8658; <a href="#t:EraSegWits">EraSegWits</a> era <span class="keyword">where</span><ul class="subs"><li><span class="keyword">type</span> <a href="#t:TxSeq">TxSeq</a> era = (r &#8759; <a href="../base/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) <span class="keyword">|</span> r &#8594; era</li><li><a href="#v:fromTxSeq">fromTxSeq</a> &#8759; <a href="Cardano-Ledger-Era.html#t:TxSeq" title="Cardano.Ledger.Era">TxSeq</a> era &#8594; <a href="../cardano-strict-containers/Data-Sequence-Strict.html#t:StrictSeq" title="Data.Sequence.Strict">StrictSeq</a> (<a href="Cardano-Ledger-Core.html#t:Tx" title="Cardano.Ledger.Core">Tx</a> era)</li><li><a href="#v:toTxSeq">toTxSeq</a> &#8759; <a href="../cardano-strict-containers/Data-Sequence-Strict.html#t:StrictSeq" title="Data.Sequence.Strict">StrictSeq</a> (<a href="Cardano-Ledger-Core.html#t:Tx" title="Cardano.Ledger.Core">Tx</a> era) &#8594; <a href="Cardano-Ledger-Era.html#t:TxSeq" title="Cardano.Ledger.Era">TxSeq</a> era</li><li><a href="#v:hashTxSeq">hashTxSeq</a> &#8759; <a href="Cardano-Ledger-Era.html#t:TxSeq" title="Cardano.Ledger.Era">TxSeq</a> era &#8594; <a href="../cardano-crypto-class/Cardano-Crypto-Hash-Class.html#t:Hash" title="Cardano.Crypto.Hash.Class">Hash</a> (<a href="Cardano-Ledger-Crypto.html#t:HASH" title="Cardano.Ledger.Crypto">HASH</a> (<a href="Cardano-Ledger-Era.html#t:EraCrypto" title="Cardano.Ledger.Era">EraCrypto</a> era)) <a href="Cardano-Ledger-Hashes.html#t:EraIndependentBlockBody" title="Cardano.Ledger.Hashes">EraIndependentBlockBody</a></li><li><a href="#v:numSegComponents">numSegComponents</a> &#8759; <a href="../base/Data-Word.html#t:Word64" title="Data.Word">Word64</a></li></ul></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">class</span> (<a href="Cardano-Ledger-Crypto.html#t:Crypto" title="Cardano.Ledger.Crypto">Crypto</a> (<a href="Cardano-Ledger-Era.html#t:EraCrypto" title="Cardano.Ledger.Era">EraCrypto</a> era), <a href="../base/Data-Typeable.html#t:Typeable" title="Data.Typeable">Typeable</a> era, <a href="../base/GHC-TypeLits.html#t:KnownNat" title="GHC.TypeLits">KnownNat</a> (<a href="Cardano-Ledger-Era.html#t:ProtVerLow" title="Cardano.Ledger.Era">ProtVerLow</a> era), <a href="../base/GHC-TypeLits.html#t:KnownNat" title="GHC.TypeLits">KnownNat</a> (<a href="Cardano-Ledger-Era.html#t:ProtVerHigh" title="Cardano.Ledger.Era">ProtVerHigh</a> era), <a href="Cardano-Ledger-Era.html#t:ProtVerLow" title="Cardano.Ledger.Era">ProtVerLow</a> era <a href="../base/GHC-TypeLits.html#t:-60--61-" title="GHC.TypeLits">&lt;=</a> <a href="Cardano-Ledger-Era.html#t:ProtVerHigh" title="Cardano.Ledger.Era">ProtVerHigh</a> era, <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Version.html#t:MinVersion" title="Cardano.Ledger.Binary.Version">MinVersion</a> <a href="../base/GHC-TypeLits.html#t:-60--61-" title="GHC.TypeLits">&lt;=</a> <a href="Cardano-Ledger-Era.html#t:ProtVerLow" title="Cardano.Ledger.Era">ProtVerLow</a> era, <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Version.html#t:MinVersion" title="Cardano.Ledger.Binary.Version">MinVersion</a> <a href="../base/GHC-TypeLits.html#t:-60--61-" title="GHC.TypeLits">&lt;=</a> <a href="Cardano-Ledger-Era.html#t:ProtVerHigh" title="Cardano.Ledger.Era">ProtVerHigh</a> era, <a href="../base/GHC-TypeLits.html#t:CmpNat" title="GHC.TypeLits">CmpNat</a> (<a href="Cardano-Ledger-Era.html#t:ProtVerLow" title="Cardano.Ledger.Era">ProtVerLow</a> era) <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Version.html#t:MaxVersion" title="Cardano.Ledger.Binary.Version">MaxVersion</a> ~ '<a href="../base/Data-Ord.html#v:LT" title="Data.Ord">LT</a>, <a href="../base/GHC-TypeLits.html#t:CmpNat" title="GHC.TypeLits">CmpNat</a> (<a href="Cardano-Ledger-Era.html#t:ProtVerHigh" title="Cardano.Ledger.Era">ProtVerHigh</a> era) <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Version.html#t:MaxVersion" title="Cardano.Ledger.Binary.Version">MaxVersion</a> ~ '<a href="../base/Data-Ord.html#v:LT" title="Data.Ord">LT</a>, <a href="Cardano-Ledger-Era.html#t:ProtVerLow" title="Cardano.Ledger.Era">ProtVerLow</a> era <a href="../base/GHC-TypeLits.html#t:-60--61-" title="GHC.TypeLits">&lt;=</a> <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Version.html#t:MaxVersion" title="Cardano.Ledger.Binary.Version">MaxVersion</a>, <a href="Cardano-Ledger-Era.html#t:ProtVerHigh" title="Cardano.Ledger.Era">ProtVerHigh</a> era <a href="../base/GHC-TypeLits.html#t:-60--61-" title="GHC.TypeLits">&lt;=</a> <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Version.html#t:MaxVersion" title="Cardano.Ledger.Binary.Version">MaxVersion</a>) &#8658; <a id="t:Era" class="def">Era</a> era <a href="src/Cardano.Ledger.Core.Era.html#Era" class="link">Source</a> <a href="#t:Era" class="selflink">#</a></p><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a id="t:EraCrypto" class="def">EraCrypto</a> era &#8759; <a href="../base/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="src/Cardano.Ledger.Core.Era.html#EraCrypto" class="link">Source</a> <a href="#t:EraCrypto" class="selflink">#</a></p><p class="src"><span class="keyword">type</span> <a id="t:PreviousEra" class="def">PreviousEra</a> era = (r &#8759; <a href="../base/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) <span class="keyword">|</span> r &#8594; era <a href="src/Cardano.Ledger.Core.Era.html#PreviousEra" class="link">Source</a> <a href="#t:PreviousEra" class="selflink">#</a></p><div class="doc"><p>Map an era to its predecessor.</p><p>For example:</p><pre>type instance PreviousEra (AllegraEra c) = ShelleyEra c</pre></div><p class="src"><span class="keyword">type</span> <a id="t:ProtVerLow" class="def">ProtVerLow</a> era &#8759; <a href="../base/GHC-TypeLits.html#t:Nat" title="GHC.TypeLits">Nat</a> <a href="src/Cardano.Ledger.Core.Era.html#ProtVerLow" class="link">Source</a> <a href="#t:ProtVerLow" class="selflink">#</a></p><div class="doc"><p>Lowest major protocol version for this era</p></div><p class="src"><span class="keyword">type</span> <a id="t:ProtVerHigh" class="def">ProtVerHigh</a> era &#8759; <a href="../base/GHC-TypeLits.html#t:Nat" title="GHC.TypeLits">Nat</a> <a href="src/Cardano.Ledger.Core.Era.html#ProtVerHigh" class="link">Source</a> <a href="#t:ProtVerHigh" class="selflink">#</a></p><div class="doc"><p>Highest major protocol version for this era. By default se to <code><a href="Cardano-Ledger-Era.html#t:ProtVerLow" title="Cardano.Ledger.Era">ProtVerLow</a></code></p></div> <div class="subs default"><p class="caption"></p><p class="src"><span class="keyword">type</span> <a href="Cardano-Ledger-Era.html#t:ProtVerHigh" title="Cardano.Ledger.Era">ProtVerHigh</a> era = <a href="Cardano-Ledger-Era.html#t:ProtVerLow" title="Cardano.Ledger.Era">ProtVerLow</a> era</p></div></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Era">Instances</h4><details id="i:Era" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Era:Era:1"></span> <a href="Cardano-Ledger-Crypto.html#t:Crypto" title="Cardano.Ledger.Crypto">Crypto</a> c &#8658; <a href="Cardano-Ledger-Era.html#t:Era" title="Cardano.Ledger.Era">Era</a> (<a href="Cardano-Ledger-Core-Era.html#t:ByronEra" title="Cardano.Ledger.Core.Era">ByronEra</a> c)</span> <a href="src/Cardano.Ledger.Core.Era.html#line-91" class="link">Source</a> <a href="#t:Era" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Era:Era:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-Ledger-Core-Era.html">Cardano.Ledger.Core.Era</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Cardano-Ledger-Era.html#t:EraCrypto" title="Cardano.Ledger.Era">EraCrypto</a> (<a href="Cardano-Ledger-Core-Era.html#t:ByronEra" title="Cardano.Ledger.Core.Era">ByronEra</a> c) <a href="src/Cardano.Ledger.Core.Era.html#EraCrypto" class="link">Source</a> <a href="#t:EraCrypto" class="selflink">#</a></p><p class="src"><span class="keyword">type</span> <a href="Cardano-Ledger-Era.html#t:PreviousEra" title="Cardano.Ledger.Era">PreviousEra</a> (<a href="Cardano-Ledger-Core-Era.html#t:ByronEra" title="Cardano.Ledger.Core.Era">ByronEra</a> c) = (r &#8759; <a href="../base/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) <a href="src/Cardano.Ledger.Core.Era.html#PreviousEra" class="link">Source</a> <a href="#t:PreviousEra" class="selflink">#</a></p><p class="src"><span class="keyword">type</span> <a href="Cardano-Ledger-Era.html#t:ProtVerLow" title="Cardano.Ledger.Era">ProtVerLow</a> (<a href="Cardano-Ledger-Core-Era.html#t:ByronEra" title="Cardano.Ledger.Core.Era">ByronEra</a> c) &#8759; <a href="../base/GHC-TypeLits.html#t:Nat" title="GHC.TypeLits">Nat</a> <a href="src/Cardano.Ledger.Core.Era.html#ProtVerLow" class="link">Source</a> <a href="#t:ProtVerLow" class="selflink">#</a></p><p class="src"><span class="keyword">type</span> <a href="Cardano-Ledger-Era.html#t:ProtVerHigh" title="Cardano.Ledger.Era">ProtVerHigh</a> (<a href="Cardano-Ledger-Core-Era.html#t:ByronEra" title="Cardano.Ledger.Core.Era">ByronEra</a> c) &#8759; <a href="../base/GHC-TypeLits.html#t:Nat" title="GHC.TypeLits">Nat</a> <a href="src/Cardano.Ledger.Core.Era.html#ProtVerHigh" class="link">Source</a> <a href="#t:ProtVerHigh" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:getTxOutAddr" class="def">getTxOutAddr</a> &#8759; <a href="Cardano-Ledger-Core.html#t:EraTxOut" title="Cardano.Ledger.Core">EraTxOut</a> era &#8658; <a href="Cardano-Ledger-Core.html#t:TxOut" title="Cardano.Ledger.Core">TxOut</a> era &#8594; <a href="Cardano-Ledger-Address.html#t:Addr" title="Cardano.Ledger.Address">Addr</a> (<a href="Cardano-Ledger-Era.html#t:EraCrypto" title="Cardano.Ledger.Era">EraCrypto</a> era) <a href="src/Cardano.Ledger.Era.html#getTxOutAddr" class="link">Source</a> <a href="#v:getTxOutAddr" class="selflink">#</a></p><div class="doc"><div class="warning"><p>Deprecated: In favor of <code><a href="Cardano-Ledger-Core.html#v:addrTxOutL" title="Cardano.Ledger.Core">addrTxOutL</a></code></p></div></div></div><div class="top"><p class="src"><a id="v:getTxOutCompactAddr" class="def">getTxOutCompactAddr</a> &#8759; <a href="Cardano-Ledger-Core.html#t:EraTxOut" title="Cardano.Ledger.Core">EraTxOut</a> era &#8658; <a href="Cardano-Ledger-Core.html#t:TxOut" title="Cardano.Ledger.Core">TxOut</a> era &#8594; <a href="Cardano-Ledger-Address.html#t:CompactAddr" title="Cardano.Ledger.Address">CompactAddr</a> (<a href="Cardano-Ledger-Era.html#t:EraCrypto" title="Cardano.Ledger.Era">EraCrypto</a> era) <a href="src/Cardano.Ledger.Era.html#getTxOutCompactAddr" class="link">Source</a> <a href="#v:getTxOutCompactAddr" class="selflink">#</a></p><div class="doc"><div class="warning"><p>Deprecated: In favor of <code><a href="Cardano-Ledger-Core.html#v:compactAddrTxOutL" title="Cardano.Ledger.Core">compactAddrTxOutL</a></code></p></div></div></div><div class="top"><p class="src"><a id="v:getTxOutEitherAddr" class="def">getTxOutEitherAddr</a> &#8759; <a href="Cardano-Ledger-Core.html#t:EraTxOut" title="Cardano.Ledger.Core">EraTxOut</a> era &#8658; <a href="Cardano-Ledger-Core.html#t:TxOut" title="Cardano.Ledger.Core">TxOut</a> era &#8594; <a href="../base/Data-Either.html#t:Either" title="Data.Either">Either</a> (<a href="Cardano-Ledger-Address.html#t:Addr" title="Cardano.Ledger.Address">Addr</a> (<a href="Cardano-Ledger-Era.html#t:EraCrypto" title="Cardano.Ledger.Era">EraCrypto</a> era)) (<a href="Cardano-Ledger-Address.html#t:CompactAddr" title="Cardano.Ledger.Address">CompactAddr</a> (<a href="Cardano-Ledger-Era.html#t:EraCrypto" title="Cardano.Ledger.Era">EraCrypto</a> era)) <a href="src/Cardano.Ledger.Era.html#getTxOutEitherAddr" class="link">Source</a> <a href="#v:getTxOutEitherAddr" class="selflink">#</a></p><div class="doc"><div class="warning"><p>Deprecated: In favor of <code><a href="Cardano-Ledger-Core.html#v:addrEitherTxOutL" title="Cardano.Ledger.Core">addrEitherTxOutL</a></code></p></div></div></div><div class="top"><p class="src"><a id="v:getTxOutBootstrapAddress" class="def">getTxOutBootstrapAddress</a> &#8759; <a href="Cardano-Ledger-Core.html#t:EraTxOut" title="Cardano.Ledger.Core">EraTxOut</a> era &#8658; <a href="Cardano-Ledger-Core.html#t:TxOut" title="Cardano.Ledger.Core">TxOut</a> era &#8594; <a href="../base/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Cardano-Ledger-Address.html#t:BootstrapAddress" title="Cardano.Ledger.Address">BootstrapAddress</a> (<a href="Cardano-Ledger-Era.html#t:EraCrypto" title="Cardano.Ledger.Era">EraCrypto</a> era)) <a href="src/Cardano.Ledger.Era.html#getTxOutBootstrapAddress" class="link">Source</a> <a href="#v:getTxOutBootstrapAddress" class="selflink">#</a></p><div class="doc"><div class="warning"><p>Deprecated: In favor of <code><a href="Cardano-Ledger-Core.html#v:bootAddrTxOutF" title="Cardano.Ledger.Core">bootAddrTxOutF</a></code></p></div><p>Get the Bootsrap address from the TxOut. Returns <code><a href="../base/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code> if it is a
 Shelley address or newer</p></div></div><div class="top"><p class="src"><a id="v:getAllTxInputs" class="def">getAllTxInputs</a> &#8759; <a href="Cardano-Ledger-Core.html#t:EraTxBody" title="Cardano.Ledger.Core">EraTxBody</a> era &#8658; <a href="Cardano-Ledger-Core.html#t:TxBody" title="Cardano.Ledger.Core">TxBody</a> era &#8594; <a href="../cardano-prelude/Cardano-Prelude-Base.html#t:Set" title="Cardano.Prelude.Base">Set</a> (<a href="Cardano-Ledger-TxIn.html#t:TxIn" title="Cardano.Ledger.TxIn">TxIn</a> (<a href="Cardano-Ledger-Era.html#t:EraCrypto" title="Cardano.Ledger.Era">EraCrypto</a> era)) <a href="src/Cardano.Ledger.Era.html#getAllTxInputs" class="link">Source</a> <a href="#v:getAllTxInputs" class="selflink">#</a></p><div class="doc"><p>The validity of any individual block depends only on a subset
 of the UTxO stored in the ledger state. The consensus layer makes
 use of this fact, and uses the function below to to retrieve the
 needed UTxO from disk and present only those to the ledger.
 It is therefore neccessary that this function account for all the
 different types of inputs inside a transaction.</p></div></div><div class="top"><p class="src"><span class="keyword">type family</span> <a id="t:TranslationContext" class="def">TranslationContext</a> era &#8759; <a href="../base/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="src/Cardano.Ledger.Core.Translation.html#TranslationContext" class="link">Source</a> <a href="#t:TranslationContext" class="selflink">#</a></p><div class="doc"><p>Per-era context used for <code><a href="Cardano-Ledger-Era.html#t:TranslateEra" title="Cardano.Ledger.Era">TranslateEra</a></code>.</p><p>This context will be passed to the translation instances of <em>all</em> types of
 that particular era. In practice, most instances won't need the context, but
 this approach makes the translation composable (as opposed to having a
 separate context per type).</p></div></div><div class="top"><p class="src"><span class="keyword">class</span> (<a href="Cardano-Ledger-Era.html#t:Era" title="Cardano.Ledger.Era">Era</a> era, <a href="Cardano-Ledger-Era.html#t:Era" title="Cardano.Ledger.Era">Era</a> (<a href="Cardano-Ledger-Era.html#t:PreviousEra" title="Cardano.Ledger.Era">PreviousEra</a> era)) &#8658; <a id="t:TranslateEra" class="def">TranslateEra</a> era f <span class="keyword">where</span> <a href="src/Cardano.Ledger.Core.Translation.html#TranslateEra" class="link">Source</a> <a href="#t:TranslateEra" class="selflink">#</a></p><div class="doc"><p>Translation of types between eras, e.g., from Shelley to Allegra.</p><p>When <code>era</code> is just a phantom type parameter, an empty standalone deriving can be used:</p><pre>newtype Foo era = Foo Int

instance TranslateEra (Allegra c) Foo</pre><p>Note that one could use <code>DerivingAnyClass</code> (<code>deriving (TranslateEra (Allegra
 c))</code>), but this would introduce an undesired coupling between the
 era-parametric type and (a) particular era(s). The intention is to have a
 module with orphan instances per era.</p><p>In most cases, the <code>era</code> parameter won't be phantom, and a manual instance
 will have to be written:</p><pre>newtype Bar era = Bar (TxBody era)

instance CC.Crypto c =&gt; TranslateEra (Allegra c) Bar where
    translateEra ctxt = Bar &lt;$&gt; translateEra ctxt

-- With the following instance being in scope:
instance CC.Crypto c =&gt; TranslatEra (Allegra c) TxBody</pre><p>Note: we use <code><a href="Cardano-Ledger-Era.html#t:PreviousEra" title="Cardano.Ledger.Era">PreviousEra</a></code> instead of <code>NextEra</code> as an era definitely knows
 its predecessor, but not necessarily its successor. Moreover, one could argue
 that it makes more sense to define the translation from era A to era B where
 era B is defined, than where era A is defined.</p></div><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src">Nothing</p></div><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a id="t:TranslationError" class="def">TranslationError</a> era f &#8759; <a href="../base/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="src/Cardano.Ledger.Core.Translation.html#TranslationError" class="link">Source</a> <a href="#t:TranslationError" class="selflink">#</a></p><div class="doc"><p>Most translations should be infallible (default instance), but we leave
 the door open for partial translations.</p><p>For a partial translation, override the default type to be <code>()</code> or a
 concrete error type.</p></div> <div class="subs default"><p class="caption"></p><p class="src"><span class="keyword">type</span> <a href="Cardano-Ledger-Era.html#t:TranslationError" title="Cardano.Ledger.Era">TranslationError</a> era f = <a href="../base/Data-Void.html#t:Void" title="Data.Void">Void</a></p></div></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:translateEra" class="def">translateEra</a> &#8759; <a href="Cardano-Ledger-Era.html#t:TranslationContext" title="Cardano.Ledger.Era">TranslationContext</a> era &#8594; f (<a href="Cardano-Ledger-Era.html#t:PreviousEra" title="Cardano.Ledger.Era">PreviousEra</a> era) &#8594; <a href="../cardano-prelude/Cardano-Prelude-Base.html#t:Except" title="Cardano.Prelude.Base">Except</a> (<a href="Cardano-Ledger-Era.html#t:TranslationError" title="Cardano.Ledger.Era">TranslationError</a> era f) (f era) <a href="src/Cardano.Ledger.Core.Translation.html#translateEra" class="link">Source</a> <a href="#v:translateEra" class="selflink">#</a></p><div class="doc"><p>Translate a type <code>f</code> parameterised by the era from an era to the era
 after it.</p><p>The translation is a given the translation context of <code>era</code>.</p><p>A default instance is provided for when the two types are <code><a href="../base/Data-Coerce.html#t:Coercible" title="Data.Coerce">Coercible</a></code>.</p></div> <div class="subs default"><p class="caption"></p><p class="src"><span class="keyword">default</span> <a id="v:translateEra" class="def">translateEra</a> &#8759; (<a href="../base/Data-Coerce.html#t:Coercible" title="Data.Coerce">Coercible</a> (f (<a href="Cardano-Ledger-Era.html#t:PreviousEra" title="Cardano.Ledger.Era">PreviousEra</a> era)) (f era), <a href="Cardano-Ledger-Era.html#t:TranslationContext" title="Cardano.Ledger.Era">TranslationContext</a> era ~ ()) &#8658; <a href="Cardano-Ledger-Era.html#t:TranslationContext" title="Cardano.Ledger.Era">TranslationContext</a> era &#8594; f (<a href="Cardano-Ledger-Era.html#t:PreviousEra" title="Cardano.Ledger.Era">PreviousEra</a> era) &#8594; <a href="../cardano-prelude/Cardano-Prelude-Base.html#t:Except" title="Cardano.Prelude.Base">Except</a> (<a href="Cardano-Ledger-Era.html#t:TranslationError" title="Cardano.Ledger.Era">TranslationError</a> era f) (f era) <a href="src/Cardano.Ledger.Core.Translation.html#translateEra" class="link">Source</a> <a href="#v:translateEra" class="selflink">#</a></p></div></div></div><div class="top"><p class="src"><a id="v:translateEra-39-" class="def">translateEra'</a> &#8759; (<a href="Cardano-Ledger-Era.html#t:TranslateEra" title="Cardano.Ledger.Era">TranslateEra</a> era f, <a href="Cardano-Ledger-Era.html#t:TranslationError" title="Cardano.Ledger.Era">TranslationError</a> era f ~ <a href="../base/Data-Void.html#t:Void" title="Data.Void">Void</a>) &#8658; <a href="Cardano-Ledger-Era.html#t:TranslationContext" title="Cardano.Ledger.Era">TranslationContext</a> era &#8594; f (<a href="Cardano-Ledger-Era.html#t:PreviousEra" title="Cardano.Ledger.Era">PreviousEra</a> era) &#8594; f era <a href="src/Cardano.Ledger.Core.Translation.html#translateEra%27" class="link">Source</a> <a href="#v:translateEra-39-" class="selflink">#</a></p><div class="doc"><p>Variant of <code><a href="Cardano-Ledger-Era.html#v:translateEra" title="Cardano.Ledger.Era">translateEra</a></code> for when <code><a href="Cardano-Ledger-Era.html#t:TranslationError" title="Cardano.Ledger.Era">TranslationError</a></code> is <code><a href="../base/Data-Void.html#t:Void" title="Data.Void">Void</a></code> and the
 translation thus cannot fail.</p></div></div><div class="top"><p class="src"><a id="v:translateEraMaybe" class="def">translateEraMaybe</a> &#8759; (<a href="Cardano-Ledger-Era.html#t:TranslateEra" title="Cardano.Ledger.Era">TranslateEra</a> era f, <a href="Cardano-Ledger-Era.html#t:TranslationError" title="Cardano.Ledger.Era">TranslationError</a> era f ~ ()) &#8658; <a href="Cardano-Ledger-Era.html#t:TranslationContext" title="Cardano.Ledger.Era">TranslationContext</a> era &#8594; f (<a href="Cardano-Ledger-Era.html#t:PreviousEra" title="Cardano.Ledger.Era">PreviousEra</a> era) &#8594; <a href="../base/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (f era) <a href="src/Cardano.Ledger.Core.Translation.html#translateEraMaybe" class="link">Source</a> <a href="#v:translateEraMaybe" class="selflink">#</a></p><div class="doc"><p>Variant of <code><a href="Cardano-Ledger-Era.html#v:translateEra" title="Cardano.Ledger.Era">translateEra</a></code> for when <code><a href="Cardano-Ledger-Era.html#t:TranslationError" title="Cardano.Ledger.Era">TranslationError</a></code> is <code>()</code>, converting
 the result to a <code><a href="../base/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a></code>.</p></div></div><div class="top"><p class="src"><span class="keyword">class</span> (<a href="Cardano-Ledger-Core.html#t:EraTx" title="Cardano.Ledger.Core">EraTx</a> era, <a href="../base/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Cardano-Ledger-Era.html#t:TxSeq" title="Cardano.Ledger.Era">TxSeq</a> era), <a href="../base/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Cardano-Ledger-Era.html#t:TxSeq" title="Cardano.Ledger.Era">TxSeq</a> era), <a href="Cardano-Ledger-Serialization.html#t:EncCBORGroup" title="Cardano.Ledger.Serialization">EncCBORGroup</a> (<a href="Cardano-Ledger-Era.html#t:TxSeq" title="Cardano.Ledger.Era">TxSeq</a> era), <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Decoding-DecCBOR.html#t:DecCBOR" title="Cardano.Ledger.Binary.Decoding.DecCBOR">DecCBOR</a> (<a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Decoding-Annotated.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding.Annotated">Annotator</a> (<a href="Cardano-Ledger-Era.html#t:TxSeq" title="Cardano.Ledger.Era">TxSeq</a> era))) &#8658; <a id="t:EraSegWits" class="def">EraSegWits</a> era <span class="keyword">where</span> <a href="src/Cardano.Ledger.Core.html#EraSegWits" class="link">Source</a> <a href="#t:EraSegWits" class="selflink">#</a></p><div class="doc"><p>Indicates that an era supports segregated witnessing.</p><p>This class embodies an isomorphism between 'TxSeq era' and 'StrictSeq
   (Tx era)', witnessed by <code><a href="Cardano-Ledger-Era.html#v:fromTxSeq" title="Cardano.Ledger.Era">fromTxSeq</a></code> and <code><a href="Cardano-Ledger-Era.html#v:toTxSeq" title="Cardano.Ledger.Era">toTxSeq</a></code>.</p></div><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a id="t:TxSeq" class="def">TxSeq</a> era = (r &#8759; <a href="../base/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) <span class="keyword">|</span> r &#8594; era <a href="src/Cardano.Ledger.Core.html#TxSeq" class="link">Source</a> <a href="#t:TxSeq" class="selflink">#</a></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:fromTxSeq" class="def">fromTxSeq</a> &#8759; <a href="Cardano-Ledger-Era.html#t:TxSeq" title="Cardano.Ledger.Era">TxSeq</a> era &#8594; <a href="../cardano-strict-containers/Data-Sequence-Strict.html#t:StrictSeq" title="Data.Sequence.Strict">StrictSeq</a> (<a href="Cardano-Ledger-Core.html#t:Tx" title="Cardano.Ledger.Core">Tx</a> era) <a href="src/Cardano.Ledger.Core.html#fromTxSeq" class="link">Source</a> <a href="#v:fromTxSeq" class="selflink">#</a></p><p class="src"><a id="v:toTxSeq" class="def">toTxSeq</a> &#8759; <a href="../cardano-strict-containers/Data-Sequence-Strict.html#t:StrictSeq" title="Data.Sequence.Strict">StrictSeq</a> (<a href="Cardano-Ledger-Core.html#t:Tx" title="Cardano.Ledger.Core">Tx</a> era) &#8594; <a href="Cardano-Ledger-Era.html#t:TxSeq" title="Cardano.Ledger.Era">TxSeq</a> era <a href="src/Cardano.Ledger.Core.html#toTxSeq" class="link">Source</a> <a href="#v:toTxSeq" class="selflink">#</a></p><p class="src"><a id="v:hashTxSeq" class="def">hashTxSeq</a> &#8759; <a href="Cardano-Ledger-Era.html#t:TxSeq" title="Cardano.Ledger.Era">TxSeq</a> era &#8594; <a href="../cardano-crypto-class/Cardano-Crypto-Hash-Class.html#t:Hash" title="Cardano.Crypto.Hash.Class">Hash</a> (<a href="Cardano-Ledger-Crypto.html#t:HASH" title="Cardano.Ledger.Crypto">HASH</a> (<a href="Cardano-Ledger-Era.html#t:EraCrypto" title="Cardano.Ledger.Era">EraCrypto</a> era)) <a href="Cardano-Ledger-Hashes.html#t:EraIndependentBlockBody" title="Cardano.Ledger.Hashes">EraIndependentBlockBody</a> <a href="src/Cardano.Ledger.Core.html#hashTxSeq" class="link">Source</a> <a href="#v:hashTxSeq" class="selflink">#</a></p><div class="doc"><p>Get the block body hash from the TxSeq. Note that this is not a regular
 &quot;hash the stored bytes&quot; function since the block body hash forms a small
 Merkle tree.</p></div><p class="src"><a id="v:numSegComponents" class="def">numSegComponents</a> &#8759; <a href="../base/Data-Word.html#t:Word64" title="Data.Word">Word64</a> <a href="src/Cardano.Ledger.Core.html#numSegComponents" class="link">Source</a> <a href="#v:numSegComponents" class="selflink">#</a></p><div class="doc"><p>The number of segregated components</p></div></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.26.0</p></div></body></html>