<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head id="head" data-base-url=".."><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Cardano.Ledger.Binary.Encoding.Coders</title><link href="../linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="../quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="../haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">cardano-ledger-binary-1.1.0.0: Binary serialization library used throughout ledger</span><ul class="links" id="page-menu"><li><a href="src/Cardano.Ledger.Binary.Encoding.Coders.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Cardano.Ledger.Binary.Encoding.Coders</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Creating encoders.</a></li><li><a href="#g:2">Index types for well-formed Coders.</a></li><li><a href="#g:3">Containers, Combinators, Annotators</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Data.Coders provides tools for writing <code><a href="Cardano-Ledger-Binary-Encoding-EncCBOR.html#t:EncCBOR" title="Cardano.Ledger.Binary.Encoding.EncCBOR">EncCBOR</a></code> and <code><a href="Cardano-Ledger-Binary-Decoding-DecCBOR.html#t:DecCBOR" title="Cardano.Ledger.Binary.Decoding.DecCBOR">DecCBOR</a></code> instances (see module
   <code><a href="Cardano.html#v:Binary" title="Cardano">Binary</a></code>) in an intuitive way that mirrors the way one constructs values of a
   particular type. Advantages include:</p><ol><li>Book-keeping details neccesary to write correct instances are hidden from the user.</li><li>Inverse <code><a href="Cardano-Ledger-Binary-Encoding-EncCBOR.html#t:EncCBOR" title="Cardano.Ledger.Binary.Encoding.EncCBOR">EncCBOR</a></code> and <code><a href="Cardano-Ledger-Binary-Decoding-DecCBOR.html#t:DecCBOR" title="Cardano.Ledger.Binary.Decoding.DecCBOR">DecCBOR</a></code> instances have visually similar definitions.</li><li>Advanced instances involving sparse-encoding, compact-representation, and <code>Annotator</code> instances are also supported.</li></ol><p>A Guide to Visual inspection of Duality in Encode and Decode</p><ol><li><code>(Sum c)</code>     and <code>(SumD c)</code>    are duals</li><li><code>(Rec c)</code>     and <code>(RecD c)</code>    are duals</li><li><code>(Keyed c)</code>   and <code>(KeyedD c)</code>  are duals</li><li><code>(OmitC x)</code>   and <code>(Emit x)</code>    are duals</li><li><code>(Omit p ..)</code> and <code>(Emit x)</code>    are duals if (p x) is True</li><li><code>(To x)</code>      and <code>(From)</code>      are duals if (x::T) and (forall (y::T). isRight (roundTrip y))</li><li><code>(E enc x)</code>   and <code>(D dec)</code>     are duals if (forall x . isRight (roundTrip' enc dec x))</li><li><code>(ED d x)</code>    and <code>(DD f)</code>      are duals as long as d=(Dual enc dec) and (forall x . isRight (roundTrip' enc dec x))</li><li><code>(f !&gt; x)</code>    and <code>(g &lt;! y)</code>    are duals if (f and g are duals) and (x and y are duals)</li></ol><p>Duality properties of <code>(Summands name decodeT)</code> and <code>(SparseKeyed name (init::T) pick required)</code> also exist
 but are harder to describe succinctly.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:Encode">Encode</a> (w &#8759; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Wrapped" title="Cardano.Ledger.Binary.Decoding.Coders">Wrapped</a>) t <span class="keyword">where</span><ul class="subs"><li><a href="#v:Rec">Rec</a> &#8759; t &#8594; <a href="Cardano-Ledger-Binary-Encoding-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Encoding.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Decoding.Coders">Dense</a>) t</li><li><a href="#v:Sum">Sum</a> &#8759; t &#8594; <a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; <a href="Cardano-Ledger-Binary-Encoding-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Encoding.Coders">Encode</a> '<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Open" title="Cardano.Ledger.Binary.Decoding.Coders">Open</a> t</li><li><a href="#v:Keyed">Keyed</a> &#8759; t &#8594; <a href="Cardano-Ledger-Binary-Encoding-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Encoding.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Sparse" title="Cardano.Ledger.Binary.Decoding.Coders">Sparse</a>) t</li><li><a href="#v:To">To</a> &#8759; <a href="Cardano-Ledger-Binary-Encoding-EncCBOR.html#t:EncCBOR" title="Cardano.Ledger.Binary.Encoding.EncCBOR">EncCBOR</a> a &#8658; a &#8594; <a href="Cardano-Ledger-Binary-Encoding-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Encoding.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Decoding.Coders">Dense</a>) a</li><li><a href="#v:E">E</a> &#8759; (t &#8594; <a href="Cardano-Ledger-Binary-Encoding-Encoder.html#t:Encoding" title="Cardano.Ledger.Binary.Encoding.Encoder">Encoding</a>) &#8594; t &#8594; <a href="Cardano-Ledger-Binary-Encoding-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Encoding.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Decoding.Coders">Dense</a>) t</li><li><a href="#v:MapE">MapE</a> &#8759; (a &#8594; b) &#8594; <a href="Cardano-Ledger-Binary-Encoding-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Encoding.Coders">Encode</a> w a &#8594; <a href="Cardano-Ledger-Binary-Encoding-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Encoding.Coders">Encode</a> w b</li><li><a href="#v:OmitC">OmitC</a> &#8759; t &#8594; <a href="Cardano-Ledger-Binary-Encoding-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Encoding.Coders">Encode</a> w t</li><li><a href="#v:Tag">Tag</a> &#8759; <a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; <a href="Cardano-Ledger-Binary-Encoding-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Encoding.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> x) t &#8594; <a href="Cardano-Ledger-Binary-Encoding-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Encoding.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> x) t</li><li><a href="#v:Omit">Omit</a> &#8759; (t &#8594; <a href="../base/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) &#8594; <a href="Cardano-Ledger-Binary-Encoding-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Encoding.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Sparse" title="Cardano.Ledger.Binary.Decoding.Coders">Sparse</a>) t &#8594; <a href="Cardano-Ledger-Binary-Encoding-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Encoding.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Sparse" title="Cardano.Ledger.Binary.Decoding.Coders">Sparse</a>) t</li><li><a href="#v:Key">Key</a> &#8759; <a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; <a href="Cardano-Ledger-Binary-Encoding-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Encoding.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Decoding.Coders">Dense</a>) t &#8594; <a href="Cardano-Ledger-Binary-Encoding-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Encoding.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Sparse" title="Cardano.Ledger.Binary.Decoding.Coders">Sparse</a>) t</li><li><a href="#v:ApplyE">ApplyE</a> &#8759; <a href="Cardano-Ledger-Binary-Encoding-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Encoding.Coders">Encode</a> w (a &#8594; t) &#8594; <a href="Cardano-Ledger-Binary-Encoding-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Encoding.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> r) a &#8594; <a href="Cardano-Ledger-Binary-Encoding-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Encoding.Coders">Encode</a> w t</li></ul></li><li class="src short"><a href="#v:-33--62-">(!&gt;)</a> &#8759; <a href="Cardano-Ledger-Binary-Encoding-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Encoding.Coders">Encode</a> w (a &#8594; t) &#8594; <a href="Cardano-Ledger-Binary-Encoding-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Encoding.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> r) a &#8594; <a href="Cardano-Ledger-Binary-Encoding-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Encoding.Coders">Encode</a> w t</li><li class="src short"><a href="#v:encode">encode</a> &#8759; <a href="Cardano-Ledger-Binary-Encoding-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Encoding.Coders">Encode</a> w t &#8594; <a href="Cardano-Ledger-Binary-Encoding-Encoder.html#t:Encoding" title="Cardano.Ledger.Binary.Encoding.Encoder">Encoding</a></li><li class="src short"><a href="#v:runE">runE</a> &#8759; <a href="Cardano-Ledger-Binary-Encoding-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Encoding.Coders">Encode</a> w t &#8594; t</li><li class="src short"><a href="#v:encodeDual">encodeDual</a> &#8759; &#8704; t. (<a href="Cardano-Ledger-Binary-Encoding-EncCBOR.html#t:EncCBOR" title="Cardano.Ledger.Binary.Encoding.EncCBOR">EncCBOR</a> t, <a href="Cardano-Ledger-Binary-Decoding-DecCBOR.html#t:DecCBOR" title="Cardano.Ledger.Binary.Decoding.DecCBOR">DecCBOR</a> t) &#8658; t &#8594; <a href="Cardano-Ledger-Binary-Encoding-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Encoding.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Decoding.Coders">Dense</a>) t</li><li class="src short"><a href="#v:encodeKeyedStrictMaybeWith">encodeKeyedStrictMaybeWith</a> &#8759; <a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; (a &#8594; <a href="Cardano-Ledger-Binary-Encoding-Encoder.html#t:Encoding" title="Cardano.Ledger.Binary.Encoding.Encoder">Encoding</a>) &#8594; <a href="../cardano-strict-containers/Data-Maybe-Strict.html#t:StrictMaybe" title="Data.Maybe.Strict">StrictMaybe</a> a &#8594; <a href="Cardano-Ledger-Binary-Encoding-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Encoding.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Sparse" title="Cardano.Ledger.Binary.Decoding.Coders">Sparse</a>) (<a href="../cardano-strict-containers/Data-Maybe-Strict.html#t:StrictMaybe" title="Data.Maybe.Strict">StrictMaybe</a> a)</li><li class="src short"><a href="#v:encodeKeyedStrictMaybe">encodeKeyedStrictMaybe</a> &#8759; <a href="Cardano-Ledger-Binary-Encoding-EncCBOR.html#t:EncCBOR" title="Cardano.Ledger.Binary.Encoding.EncCBOR">EncCBOR</a> a &#8658; <a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; <a href="../cardano-strict-containers/Data-Maybe-Strict.html#t:StrictMaybe" title="Data.Maybe.Strict">StrictMaybe</a> a &#8594; <a href="Cardano-Ledger-Binary-Encoding-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Encoding.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Sparse" title="Cardano.Ledger.Binary.Decoding.Coders">Sparse</a>) (<a href="../cardano-strict-containers/Data-Maybe-Strict.html#t:StrictMaybe" title="Data.Maybe.Strict">StrictMaybe</a> a)</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Creating encoders.</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Encode" class="def">Encode</a> (w &#8759; <a href="Cardano-Ledger-Binary-Decoding-Coders.html#t:Wrapped" title="Cardano.Ledger.Binary.Decoding.Coders">Wrapped</a>) t <span class="keyword">where</span> <a href="src/Cardano.Ledger.Binary.Encoding.Coders.html#Encode" class="link">Source</a> <a href="#t:Encode" class="selflink">#</a></p><div class="doc"><p>A first-order domain specific langage for describing EncCBOR instances. Applying
   the interpreter <code><a href="Cardano-Ledger-Binary-Encoding-Coders.html#v:encode" title="Cardano.Ledger.Binary.Encoding.Coders">encode</a></code> to a well-typed <code>(Encode w T)</code> always produces a valid encoding for <code>T</code>.
   Constructing an Encode of type T is just like building a value of type T, applying a constructor
   of <code>T</code> to the correctly typed arguments. For example</p><pre>data T = T Bool Word

instance EncCBOR T where
  encCBOR (T b w) = encode (Rec T !&gt; To b !&gt; To w)
</pre><p>Note the similarity of</p><p><code>(<em>T</em> <em>b</em> <em>w</em>)</code> and <code>(<em>T</em> $ <em>b</em> $ <em>w</em>)</code> and <code>(Rec <em>T</em> !&gt; To <em>b</em> !&gt; To <em>w</em>)</code></p><p>Where (<code><a href="Cardano-Ledger-Binary-Encoding-Coders.html#v:-33--62-" title="Cardano.Ledger.Binary.Encoding.Coders">!&gt;</a></code>) is the infx version of <code><a href="Cardano-Ledger-Binary-Encoding-Coders.html#v:ApplyE" title="Cardano.Ledger.Binary.Encoding.Coders">ApplyE</a></code> with the same infixity and precedence as (<code><a href="../base/Data-Function.html#v:-36-" title="Data.Function">$</a></code>). Note
 how the constructor and each (component, field, argument) is labeled with one of the constructors
 of <code><a href="Cardano-Ledger-Binary-Encoding-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Encoding.Coders">Encode</a></code>, and are combined with the application operator (<code><a href="Cardano-Ledger-Binary-Encoding-Coders.html#v:-33--62-" title="Cardano.Ledger.Binary.Encoding.Coders">!&gt;</a></code>). Using different constructors supports
 different styles of encoding.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Rec" class="def">Rec</a> &#8759; t &#8594; <a href="Cardano-Ledger-Binary-Encoding-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Encoding.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Decoding.Coders">Dense</a>) t</td><td class="doc"><p>Label the constructor of a Record-like datatype (one with exactly 1 constructor) as an Encode.</p></td></tr><tr><td class="src"><a id="v:Sum" class="def">Sum</a> &#8759; t &#8594; <a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; <a href="Cardano-Ledger-Binary-Encoding-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Encoding.Coders">Encode</a> '<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Open" title="Cardano.Ledger.Binary.Decoding.Coders">Open</a> t</td><td class="doc"><p>Label one of the constructors of a sum datatype (one with multiple constructors) as an Encode</p></td></tr><tr><td class="src"><a id="v:Keyed" class="def">Keyed</a> &#8759; t &#8594; <a href="Cardano-Ledger-Binary-Encoding-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Encoding.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Sparse" title="Cardano.Ledger.Binary.Decoding.Coders">Sparse</a>) t</td><td class="doc"><p>Label the constructor of a Record-like datatype as being encoded sparsely (storing only non-default values).</p></td></tr><tr><td class="src"><a id="v:To" class="def">To</a> &#8759; <a href="Cardano-Ledger-Binary-Encoding-EncCBOR.html#t:EncCBOR" title="Cardano.Ledger.Binary.Encoding.EncCBOR">EncCBOR</a> a &#8658; a &#8594; <a href="Cardano-Ledger-Binary-Encoding-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Encoding.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Decoding.Coders">Dense</a>) a</td><td class="doc"><p>Label an (component, field, argument) to be encoded using an existing EncCBOR instance.</p></td></tr><tr><td class="src"><a id="v:E" class="def">E</a> &#8759; (t &#8594; <a href="Cardano-Ledger-Binary-Encoding-Encoder.html#t:Encoding" title="Cardano.Ledger.Binary.Encoding.Encoder">Encoding</a>) &#8594; t &#8594; <a href="Cardano-Ledger-Binary-Encoding-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Encoding.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Decoding.Coders">Dense</a>) t</td><td class="doc"><p>Label an (component, field, argument) to be encoded using an existing EncCBOR instance.</p></td></tr><tr><td class="src"><a id="v:MapE" class="def">MapE</a> &#8759; (a &#8594; b) &#8594; <a href="Cardano-Ledger-Binary-Encoding-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Encoding.Coders">Encode</a> w a &#8594; <a href="Cardano-Ledger-Binary-Encoding-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Encoding.Coders">Encode</a> w b</td><td class="doc"><p>Lift one Encode to another with a different type. Used to make a Functor instance of (Encode w).</p></td></tr><tr><td class="src"><a id="v:OmitC" class="def">OmitC</a> &#8759; t &#8594; <a href="Cardano-Ledger-Binary-Encoding-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Encoding.Coders">Encode</a> w t</td><td class="doc"><p>Skip over the  (component,field, argument), don't encode it at all (used in sparse encoding).</p></td></tr><tr><td class="src"><a id="v:Tag" class="def">Tag</a> &#8759; <a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; <a href="Cardano-Ledger-Binary-Encoding-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Encoding.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> x) t &#8594; <a href="Cardano-Ledger-Binary-Encoding-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Encoding.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> x) t</td><td class="doc"><p>Precede the given encoding (in the produced bytes) with the given tag Word.</p></td></tr><tr><td class="src"><a id="v:Omit" class="def">Omit</a> &#8759; (t &#8594; <a href="../base/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) &#8594; <a href="Cardano-Ledger-Binary-Encoding-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Encoding.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Sparse" title="Cardano.Ledger.Binary.Decoding.Coders">Sparse</a>) t &#8594; <a href="Cardano-Ledger-Binary-Encoding-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Encoding.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Sparse" title="Cardano.Ledger.Binary.Decoding.Coders">Sparse</a>) t</td><td class="doc"><p>Omit the  (component,field, argument) if the function is True, otherwise encode with the given encoding.</p></td></tr><tr><td class="src"><a id="v:Key" class="def">Key</a> &#8759; <a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; <a href="Cardano-Ledger-Binary-Encoding-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Encoding.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Decoding.Coders">Dense</a>) t &#8594; <a href="Cardano-Ledger-Binary-Encoding-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Encoding.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Sparse" title="Cardano.Ledger.Binary.Decoding.Coders">Sparse</a>) t</td><td class="doc"><p>Precede the encoding (in the produced bytes) with the key Word. Analagous to <code><a href="Cardano-Ledger-Binary-Encoding-Coders.html#v:Tag" title="Cardano.Ledger.Binary.Encoding.Coders">Tag</a></code>, but lifts a <code><a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Decoding.Coders">Dense</a></code> encoding to a <code><a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Sparse" title="Cardano.Ledger.Binary.Decoding.Coders">Sparse</a></code> encoding.</p></td></tr><tr><td class="src"><a id="v:ApplyE" class="def">ApplyE</a> &#8759; <a href="Cardano-Ledger-Binary-Encoding-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Encoding.Coders">Encode</a> w (a &#8594; t) &#8594; <a href="Cardano-Ledger-Binary-Encoding-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Encoding.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> r) a &#8594; <a href="Cardano-Ledger-Binary-Encoding-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Encoding.Coders">Encode</a> w t</td><td class="doc"><p>Apply a functional encoding (arising from <code><a href="Cardano-Ledger-Binary-Encoding-Coders.html#v:Rec" title="Cardano.Ledger.Binary.Encoding.Coders">Rec</a></code> or <code><a href="Cardano-Ledger-Binary-Encoding-Coders.html#v:Sum" title="Cardano.Ledger.Binary.Encoding.Coders">Sum</a></code>) to get (type wise) smaller encoding. A fully saturated chain of <code><a href="Cardano-Ledger-Binary-Encoding-Coders.html#v:ApplyE" title="Cardano.Ledger.Binary.Encoding.Coders">ApplyE</a></code> will be a complete encoding. See also <code><a href="Cardano-Ledger-Binary-Encoding-Coders.html#v:-33--62-" title="Cardano.Ledger.Binary.Encoding.Coders">!&gt;</a></code> which is infix <code><a href="Cardano-Ledger-Binary-Encoding-Coders.html#v:ApplyE" title="Cardano.Ledger.Binary.Encoding.Coders">ApplyE</a></code>.</p></td></tr></table></div></div><div class="top"><p class="src"><a id="v:-33--62-" class="def">(!&gt;)</a> &#8759; <a href="Cardano-Ledger-Binary-Encoding-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Encoding.Coders">Encode</a> w (a &#8594; t) &#8594; <a href="Cardano-Ledger-Binary-Encoding-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Encoding.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> r) a &#8594; <a href="Cardano-Ledger-Binary-Encoding-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Encoding.Coders">Encode</a> w t <span class="fixity">infixl 4</span><span class="rightedge"></span> <a href="src/Cardano.Ledger.Binary.Encoding.Coders.html#%21%3E" class="link">Source</a> <a href="#v:-33--62-" class="selflink">#</a></p><div class="doc"><p>Infix operator version of <code>ApplyE</code>. Has the same infxity and operator precedence as <code><a href="../base/Data-Function.html#v:-36-" title="Data.Function">$</a></code></p></div></div><div class="top"><p class="src"><a id="v:encode" class="def">encode</a> &#8759; <a href="Cardano-Ledger-Binary-Encoding-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Encoding.Coders">Encode</a> w t &#8594; <a href="Cardano-Ledger-Binary-Encoding-Encoder.html#t:Encoding" title="Cardano.Ledger.Binary.Encoding.Encoder">Encoding</a> <a href="src/Cardano.Ledger.Binary.Encoding.Coders.html#encode" class="link">Source</a> <a href="#v:encode" class="selflink">#</a></p><div class="doc"><p>Translate a first-order @(Encode w d) domain specific langage program, into an <code><a href="Cardano-Ledger-Binary-Encoding-Encoder.html#t:Encoding" title="Cardano.Ledger.Binary.Encoding.Encoder">Encoding</a></code> .</p></div></div><a href="#g:2" id="g:2"><h1>Index types for well-formed Coders.</h1></a><div class="top"><p class="src"><a id="v:runE" class="def">runE</a> &#8759; <a href="Cardano-Ledger-Binary-Encoding-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Encoding.Coders">Encode</a> w t &#8594; t <a href="src/Cardano.Ledger.Binary.Encoding.Coders.html#runE" class="link">Source</a> <a href="#v:runE" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:encodeDual" class="def">encodeDual</a> &#8759; &#8704; t. (<a href="Cardano-Ledger-Binary-Encoding-EncCBOR.html#t:EncCBOR" title="Cardano.Ledger.Binary.Encoding.EncCBOR">EncCBOR</a> t, <a href="Cardano-Ledger-Binary-Decoding-DecCBOR.html#t:DecCBOR" title="Cardano.Ledger.Binary.Decoding.DecCBOR">DecCBOR</a> t) &#8658; t &#8594; <a href="Cardano-Ledger-Binary-Encoding-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Encoding.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Dense" title="Cardano.Ledger.Binary.Decoding.Coders">Dense</a>) t <a href="src/Cardano.Ledger.Binary.Encoding.Coders.html#encodeDual" class="link">Source</a> <a href="#v:encodeDual" class="selflink">#</a></p><div class="doc"><p>Use <code><a href="Cardano-Ledger-Binary-Encoding-Coders.html#v:encodeDual" title="Cardano.Ledger.Binary.Encoding.Coders">encodeDual</a></code> and <code><a href="Cardano-Ledger-Binary-Coders.html#v:decodeDual" title="Cardano.Ledger.Binary.Coders">decodeDual</a></code>, when you want to
 guarantee that a type has both <code><a href="Cardano-Ledger-Binary-Encoding-EncCBOR.html#t:EncCBOR" title="Cardano.Ledger.Binary.Encoding.EncCBOR">EncCBOR</a></code> and <code>FromCBR</code> instances.</p></div></div><a href="#g:3" id="g:3"><h1>Containers, Combinators, Annotators</h1></a><div class="top"><p class="src"><a id="v:encodeKeyedStrictMaybeWith" class="def">encodeKeyedStrictMaybeWith</a> &#8759; <a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; (a &#8594; <a href="Cardano-Ledger-Binary-Encoding-Encoder.html#t:Encoding" title="Cardano.Ledger.Binary.Encoding.Encoder">Encoding</a>) &#8594; <a href="../cardano-strict-containers/Data-Maybe-Strict.html#t:StrictMaybe" title="Data.Maybe.Strict">StrictMaybe</a> a &#8594; <a href="Cardano-Ledger-Binary-Encoding-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Encoding.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Sparse" title="Cardano.Ledger.Binary.Decoding.Coders">Sparse</a>) (<a href="../cardano-strict-containers/Data-Maybe-Strict.html#t:StrictMaybe" title="Data.Maybe.Strict">StrictMaybe</a> a) <a href="src/Cardano.Ledger.Binary.Encoding.Coders.html#encodeKeyedStrictMaybeWith" class="link">Source</a> <a href="#v:encodeKeyedStrictMaybeWith" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:encodeKeyedStrictMaybe" class="def">encodeKeyedStrictMaybe</a> &#8759; <a href="Cardano-Ledger-Binary-Encoding-EncCBOR.html#t:EncCBOR" title="Cardano.Ledger.Binary.Encoding.EncCBOR">EncCBOR</a> a &#8658; <a href="../base/Data-Word.html#t:Word" title="Data.Word">Word</a> &#8594; <a href="../cardano-strict-containers/Data-Maybe-Strict.html#t:StrictMaybe" title="Data.Maybe.Strict">StrictMaybe</a> a &#8594; <a href="Cardano-Ledger-Binary-Encoding-Coders.html#t:Encode" title="Cardano.Ledger.Binary.Encoding.Coders">Encode</a> ('<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Closed" title="Cardano.Ledger.Binary.Decoding.Coders">Closed</a> '<a href="Cardano-Ledger-Binary-Decoding-Coders.html#v:Sparse" title="Cardano.Ledger.Binary.Decoding.Coders">Sparse</a>) (<a href="../cardano-strict-containers/Data-Maybe-Strict.html#t:StrictMaybe" title="Data.Maybe.Strict">StrictMaybe</a> a) <a href="src/Cardano.Ledger.Binary.Encoding.Coders.html#encodeKeyedStrictMaybe" class="link">Source</a> <a href="#v:encodeKeyedStrictMaybe" class="selflink">#</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.26.0</p></div></body></html>