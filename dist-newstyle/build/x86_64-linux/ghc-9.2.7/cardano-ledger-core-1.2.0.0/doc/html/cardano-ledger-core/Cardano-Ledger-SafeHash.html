<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head id="head" data-base-url=".."><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Cardano.Ledger.SafeHash</title><link href="../linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="../quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="../haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">cardano-ledger-core-1.2.0.0: Core components of Cardano ledgers from the Shelley release on.</span><ul class="links" id="page-menu"><li><a href="src/Cardano.Ledger.SafeHash.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Cardano.Ledger.SafeHash</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">SafeHash and SafeToHash</a></li><li><a href="#g:2">Creating SafeHash</a></li><li><a href="#g:3">Other operations</a></li><li><a href="#g:4">Safe hashing aggregates</a></li><li><a href="#g:5">Deprecated</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>In cardano-ledger, hashing a type <code>X</code> is based upon the serialization of <code>X</code>. Serialization is
   based upon the <code><a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Encoding-EncCBOR.html#t:EncCBOR" title="Cardano.Ledger.Binary.Encoding.EncCBOR">EncCBOR</a></code> and DecCBOR type classes, and the values produced by <code><a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Encoding-EncCBOR.html#t:EncCBOR" title="Cardano.Ledger.Binary.Encoding.EncCBOR">EncCBOR</a></code> instances for a
   particular type, are not necessarily unique. For this reason, when an <code>X</code> object comes
   over the network in serialized form, we must preserve the original bytes that arrived over
   the network, otherwise when the system hashes that object, the hash in the ledger, and the hash of
   that object from the other side of the network may not agree. The module <code><a href="Cardano-Ledger.html#v:SafeHash" title="Cardano.Ledger">SafeHash</a></code>
   introduces the <code><a href="Cardano-Ledger-SafeHash.html#t:SafeToHash" title="Cardano.Ledger.SafeHash">SafeToHash</a></code> type class that ensures that types with a <code>(SafeToHash X)</code> instance store the
   original bytes that arrived over the network for the value of <code>X</code>. The recommended way to store the
   original bytes is to use the type <code>MemoBytes</code>, although there are
   a few types that store their original bytes in other ways. In order to encourage the use of <code>MemoBytes</code>
   newtypes defined as a <code>MemoBytes</code> get the to derive <code><a href="Cardano-Ledger-SafeHash.html#t:SafeToHash" title="Cardano.Ledger.SafeHash">SafeToHash</a></code> instances for free.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:SafeHash">SafeHash</a> c index</li><li class="src short"><span class="keyword">class</span> <a href="#t:SafeToHash">SafeToHash</a> t <span class="keyword">where</span><ul class="subs"><li><a href="#v:originalBytes">originalBytes</a> &#8759; t &#8594; <a href="../cardano-crypto-class/Cardano-Crypto-Hash-Class.html#t:ByteString" title="Cardano.Crypto.Hash.Class">ByteString</a></li><li><a href="#v:makeHashWithExplicitProxys">makeHashWithExplicitProxys</a> &#8759; <a href="../cardano-crypto-class/Cardano-Crypto-Hash-Class.html#t:HashAlgorithm" title="Cardano.Crypto.Hash.Class">HashAlgorithm</a> (<a href="Cardano-Ledger-Crypto.html#t:HASH" title="Cardano.Ledger.Crypto">HASH</a> c) &#8658; <a href="../base/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> c &#8594; <a href="../base/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> index &#8594; t &#8594; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index</li></ul></li><li class="src short"><span class="keyword">class</span> <a href="Cardano-Ledger-SafeHash.html#t:SafeToHash" title="Cardano.Ledger.SafeHash">SafeToHash</a> x &#8658; <a href="#t:HashAnnotated">HashAnnotated</a> x index c | x &#8594; index c</li><li class="src short"><a href="#v:hashAnnotated">hashAnnotated</a> &#8759; (<a href="Cardano-Ledger-SafeHash.html#t:HashAnnotated" title="Cardano.Ledger.SafeHash">HashAnnotated</a> x index c, <a href="../cardano-crypto-class/Cardano-Crypto-Hash-Class.html#t:HashAlgorithm" title="Cardano.Crypto.Hash.Class">HashAlgorithm</a> (<a href="Cardano-Ledger-Crypto.html#t:HASH" title="Cardano.Ledger.Crypto">HASH</a> c)) &#8658; x &#8594; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index</li><li class="src short"><span class="keyword">class</span> <a href="Cardano-Ledger-SafeHash.html#t:SafeToHash" title="Cardano.Ledger.SafeHash">SafeToHash</a> x &#8658; <a href="#t:HashWithCrypto">HashWithCrypto</a> x index | x &#8594; index <span class="keyword">where</span><ul class="subs"><li><a href="#v:hashWithCrypto">hashWithCrypto</a> &#8759; &#8704; c. <a href="../cardano-crypto-class/Cardano-Crypto-Hash-Class.html#t:HashAlgorithm" title="Cardano.Crypto.Hash.Class">HashAlgorithm</a> (<a href="Cardano-Ledger-Crypto.html#t:HASH" title="Cardano.Ledger.Crypto">HASH</a> c) &#8658; <a href="../base/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> c &#8594; x &#8594; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index</li></ul></li><li class="src short"><a href="#v:unsafeMakeSafeHash">unsafeMakeSafeHash</a> &#8759; <a href="../cardano-crypto-class/Cardano-Crypto-Hash-Class.html#t:Hash" title="Cardano.Crypto.Hash.Class">Hash</a> (<a href="Cardano-Ledger-Crypto.html#t:HASH" title="Cardano.Ledger.Crypto">HASH</a> c) index &#8594; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index</li><li class="src short"><a href="#v:castSafeHash">castSafeHash</a> &#8759; &#8704; i j c. <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c i &#8594; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c j</li><li class="src short"><a href="#v:extractHash">extractHash</a> &#8759; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c i &#8594; <a href="../cardano-crypto-class/Cardano-Crypto-Hash-Class.html#t:Hash" title="Cardano.Crypto.Hash.Class">Hash</a> (<a href="Cardano-Ledger-Crypto.html#t:HASH" title="Cardano.Ledger.Crypto">HASH</a> c) i</li><li class="src short"><a href="#v:indexProxy">indexProxy</a> &#8759; <a href="Cardano-Ledger-SafeHash.html#t:HashAnnotated" title="Cardano.Ledger.SafeHash">HashAnnotated</a> x index c &#8658; x &#8594; <a href="../base/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> index</li><li class="src short"><span class="keyword">data</span> <a href="#t:Safe">Safe</a> <span class="keyword">where</span><ul class="subs"><li><a href="#v:Safe">Safe</a> &#8759; <a href="Cardano-Ledger-SafeHash.html#t:SafeToHash" title="Cardano.Ledger.SafeHash">SafeToHash</a> x &#8658; x &#8594; <a href="Cardano-Ledger-SafeHash.html#t:Safe" title="Cardano.Ledger.SafeHash">Safe</a></li></ul></li><li class="src short"><a href="#v:hashSafeList">hashSafeList</a> &#8759; <a href="../cardano-crypto-class/Cardano-Crypto-Hash-Class.html#t:HashAlgorithm" title="Cardano.Crypto.Hash.Class">HashAlgorithm</a> (<a href="Cardano-Ledger-Crypto.html#t:HASH" title="Cardano.Ledger.Crypto">HASH</a> c) &#8658; <a href="../base/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> c &#8594; <a href="../base/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> index &#8594; [<a href="Cardano-Ledger-SafeHash.html#t:Safe" title="Cardano.Ledger.SafeHash">Safe</a>] &#8594; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index</li><li class="src short"><span class="keyword">type</span> <a href="#t:HasAlgorithm">HasAlgorithm</a> c = <a href="../cardano-crypto-class/Cardano-Crypto-Hash-Class.html#t:HashAlgorithm" title="Cardano.Crypto.Hash.Class">HashAlgorithm</a> (<a href="Cardano-Ledger-Crypto.html#t:HASH" title="Cardano.Ledger.Crypto">HASH</a> c)</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>SafeHash and SafeToHash</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:SafeHash" class="def">SafeHash</a> c index <a href="src/Cardano.Ledger.SafeHash.html#SafeHash" class="link">Source</a> <a href="#t:SafeHash" class="selflink">#</a></p><div class="doc"><p>A <code><a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a></code> is a hash of something that is safe to hash. Such types store
     their own serialisation bytes. The prime example is <code>(<code>MemoBytes</code> t)</code>, but other
     examples are things that consist of only ByteStrings (i.e. they are their own serialization)
     or for some other reason store their original bytes.</p><p>We do NOT export the constructor <code><a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a></code>, but instead export other functions
     such as 'hashWithCrypto, <code><a href="Cardano-Ledger-SafeHash.html#v:hashAnnotated" title="Cardano.Ledger.SafeHash">hashAnnotated</a></code> and <code><a href="Cardano-Ledger-SafeHash.html#v:extractHash" title="Cardano.Ledger.SafeHash">extractHash</a></code> which have constraints
     that limit their application to types which preserve their original serialization
     bytes.</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:SafeHash">Instances</h4><details id="i:SafeHash" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SafeHash:FromJSON:1"></span> <a href="Cardano-Ledger-Crypto.html#t:Crypto" title="Cardano.Ledger.Crypto">Crypto</a> c &#8658; FromJSON (<a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index)</span> <a href="src/Cardano.Ledger.SafeHash.html#line-107" class="link">Source</a> <a href="#t:SafeHash" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SafeHash:FromJSON:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-Ledger-SafeHash.html">Cardano.Ledger.SafeHash</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:parseJSON">parseJSON</a> &#8759; Value &#8594; Parser (<a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index)</p><p class="src"><a href="#v:parseJSONList">parseJSONList</a> &#8759; Value &#8594; Parser [<a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index]</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SafeHash:ToJSON:2"></span> <a href="Cardano-Ledger-Crypto.html#t:Crypto" title="Cardano.Ledger.Crypto">Crypto</a> c &#8658; ToJSON (<a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index)</span> <a href="src/Cardano.Ledger.SafeHash.html#line-105" class="link">Source</a> <a href="#t:SafeHash" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SafeHash:ToJSON:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-Ledger-SafeHash.html">Cardano.Ledger.SafeHash</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toJSON">toJSON</a> &#8759; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index &#8594; Value</p><p class="src"><a href="#v:toEncoding">toEncoding</a> &#8759; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index &#8594; Encoding</p><p class="src"><a href="#v:toJSONList">toJSONList</a> &#8759; [<a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index] &#8594; Value</p><p class="src"><a href="#v:toEncodingList">toEncodingList</a> &#8759; [<a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index] &#8594; Encoding</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SafeHash:Show:3"></span> <a href="../base/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index)</span> <a href="src/Cardano.Ledger.SafeHash.html#line-89" class="link">Source</a> <a href="#t:SafeHash" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SafeHash:Show:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-Ledger-SafeHash.html">Cardano.Ledger.SafeHash</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> &#8759; <a href="../base/Data-Int.html#t:Int" title="Data.Int">Int</a> &#8594; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index &#8594; <a href="../base/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/7wd7lm23cjb3mrp5rh6ag573znf82xlz-ghc-9.2.7-doc/share/doc/ghc/html/libraries/base-4.16.4.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> &#8759; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index &#8594; <a href="../base/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///nix/store/7wd7lm23cjb3mrp5rh6ag573znf82xlz-ghc-9.2.7-doc/share/doc/ghc/html/libraries/base-4.16.4.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> &#8759; [<a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index] &#8594; <a href="../base/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/7wd7lm23cjb3mrp5rh6ag573znf82xlz-ghc-9.2.7-doc/share/doc/ghc/html/libraries/base-4.16.4.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SafeHash:FromCBOR:4"></span> (<a href="../base/Data-Typeable.html#t:Typeable" title="Data.Typeable">Typeable</a> index, <a href="Cardano-Ledger-Crypto.html#t:Crypto" title="Cardano.Ledger.Crypto">Crypto</a> c) &#8658; <a href="../cardano-binary/Cardano-Binary-FromCBOR.html#t:FromCBOR" title="Cardano.Binary.FromCBOR">FromCBOR</a> (<a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index)</span> <a href="src/Cardano.Ledger.SafeHash.html#line-99" class="link">Source</a> <a href="#t:SafeHash" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SafeHash:FromCBOR:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-Ledger-SafeHash.html">Cardano.Ledger.SafeHash</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fromCBOR">fromCBOR</a> &#8759; <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Plain.html#t:Decoder" title="Cardano.Ledger.Binary.Plain">Decoder</a> s (<a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index) <a href="file:///home/runner/.local/state/cabal/store/ghc-9.2.7/cardano-binary-1.7.0.0-230bde4d56d408343ba7811b72bd5dbe1e17edf84be7e56a2d41cc0efcc4b9e8/share/doc/html/src" class="link">Source</a> <a href="#v:fromCBOR" class="selflink">#</a></p><p class="src"><a href="#v:label">label</a> &#8759; <a href="../base/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> (<a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index) &#8594; <a href="../cardano-prelude/Cardano-Prelude-Base.html#t:Text" title="Cardano.Prelude.Base">Text</a> <a href="file:///home/runner/.local/state/cabal/store/ghc-9.2.7/cardano-binary-1.7.0.0-230bde4d56d408343ba7811b72bd5dbe1e17edf84be7e56a2d41cc0efcc4b9e8/share/doc/html/src" class="link">Source</a> <a href="#v:label" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SafeHash:ToCBOR:5"></span> (<a href="../base/Data-Typeable.html#t:Typeable" title="Data.Typeable">Typeable</a> index, <a href="Cardano-Ledger-Crypto.html#t:Crypto" title="Cardano.Ledger.Crypto">Crypto</a> c) &#8658; <a href="../cardano-binary/Cardano-Binary-ToCBOR.html#t:ToCBOR" title="Cardano.Binary.ToCBOR">ToCBOR</a> (<a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index)</span> <a href="src/Cardano.Ledger.SafeHash.html#line-97" class="link">Source</a> <a href="#t:SafeHash" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SafeHash:ToCBOR:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-Ledger-SafeHash.html">Cardano.Ledger.SafeHash</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toCBOR">toCBOR</a> &#8759; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index &#8594; <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Plain.html#t:Encoding" title="Cardano.Ledger.Binary.Plain">Encoding</a> <a href="file:///home/runner/.local/state/cabal/store/ghc-9.2.7/cardano-binary-1.7.0.0-230bde4d56d408343ba7811b72bd5dbe1e17edf84be7e56a2d41cc0efcc4b9e8/share/doc/html/src" class="link">Source</a> <a href="#v:toCBOR" class="selflink">#</a></p><p class="src"><a href="#v:encodedSizeExpr">encodedSizeExpr</a> &#8759; (&#8704; t. <a href="../cardano-binary/Cardano-Binary-ToCBOR.html#t:ToCBOR" title="Cardano.Binary.ToCBOR">ToCBOR</a> t &#8658; <a href="../base/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> t &#8594; <a href="../cardano-binary/Cardano-Binary-ToCBOR.html#t:Size" title="Cardano.Binary.ToCBOR">Size</a>) &#8594; <a href="../base/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> (<a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index) &#8594; <a href="../cardano-binary/Cardano-Binary-ToCBOR.html#t:Size" title="Cardano.Binary.ToCBOR">Size</a> <a href="file:///home/runner/.local/state/cabal/store/ghc-9.2.7/cardano-binary-1.7.0.0-230bde4d56d408343ba7811b72bd5dbe1e17edf84be7e56a2d41cc0efcc4b9e8/share/doc/html/src" class="link">Source</a> <a href="#v:encodedSizeExpr" class="selflink">#</a></p><p class="src"><a href="#v:encodedListSizeExpr">encodedListSizeExpr</a> &#8759; (&#8704; t. <a href="../cardano-binary/Cardano-Binary-ToCBOR.html#t:ToCBOR" title="Cardano.Binary.ToCBOR">ToCBOR</a> t &#8658; <a href="../base/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> t &#8594; <a href="../cardano-binary/Cardano-Binary-ToCBOR.html#t:Size" title="Cardano.Binary.ToCBOR">Size</a>) &#8594; <a href="../base/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> [<a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index] &#8594; <a href="../cardano-binary/Cardano-Binary-ToCBOR.html#t:Size" title="Cardano.Binary.ToCBOR">Size</a> <a href="file:///home/runner/.local/state/cabal/store/ghc-9.2.7/cardano-binary-1.7.0.0-230bde4d56d408343ba7811b72bd5dbe1e17edf84be7e56a2d41cc0efcc4b9e8/share/doc/html/src" class="link">Source</a> <a href="#v:encodedListSizeExpr" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SafeHash:DecCBOR:6"></span> (<a href="../base/Data-Typeable.html#t:Typeable" title="Data.Typeable">Typeable</a> index, <a href="Cardano-Ledger-Crypto.html#t:Crypto" title="Cardano.Ledger.Crypto">Crypto</a> c) &#8658; <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Decoding-DecCBOR.html#t:DecCBOR" title="Cardano.Ledger.Binary.Decoding.DecCBOR">DecCBOR</a> (<a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index)</span> <a href="src/Cardano.Ledger.SafeHash.html#line-103" class="link">Source</a> <a href="#t:SafeHash" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SafeHash:DecCBOR:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-Ledger-SafeHash.html">Cardano.Ledger.SafeHash</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:decCBOR">decCBOR</a> &#8759; <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Decoding-Decoder.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding.Decoder">Decoder</a> s (<a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index) <a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.7/cardano-ledger-binary-1.1.0.0/doc/html/cardano-ledger-binary/src" class="link">Source</a> <a href="#v:decCBOR" class="selflink">#</a></p><p class="src"><a href="#v:dropCBOR">dropCBOR</a> &#8759; <a href="../base/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> (<a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index) &#8594; <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Decoding-Decoder.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding.Decoder">Decoder</a> s () <a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.7/cardano-ledger-binary-1.1.0.0/doc/html/cardano-ledger-binary/src" class="link">Source</a> <a href="#v:dropCBOR" class="selflink">#</a></p><p class="src"><a href="#v:label">label</a> &#8759; <a href="../base/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> (<a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index) &#8594; <a href="../cardano-prelude/Cardano-Prelude-Base.html#t:Text" title="Cardano.Prelude.Base">Text</a> <a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.7/cardano-ledger-binary-1.1.0.0/doc/html/cardano-ledger-binary/src" class="link">Source</a> <a href="#v:label" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SafeHash:EncCBOR:7"></span> (<a href="../base/Data-Typeable.html#t:Typeable" title="Data.Typeable">Typeable</a> index, <a href="Cardano-Ledger-Crypto.html#t:Crypto" title="Cardano.Ledger.Crypto">Crypto</a> c) &#8658; <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Encoding-EncCBOR.html#t:EncCBOR" title="Cardano.Ledger.Binary.Encoding.EncCBOR">EncCBOR</a> (<a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index)</span> <a href="src/Cardano.Ledger.SafeHash.html#line-101" class="link">Source</a> <a href="#t:SafeHash" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SafeHash:EncCBOR:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-Ledger-SafeHash.html">Cardano.Ledger.SafeHash</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:encCBOR">encCBOR</a> &#8759; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index &#8594; <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Encoding-Encoder.html#t:Encoding" title="Cardano.Ledger.Binary.Encoding.Encoder">Encoding</a> <a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.7/cardano-ledger-binary-1.1.0.0/doc/html/cardano-ledger-binary/src" class="link">Source</a> <a href="#v:encCBOR" class="selflink">#</a></p><p class="src"><a href="#v:encodedSizeExpr">encodedSizeExpr</a> &#8759; (&#8704; t. <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Encoding-EncCBOR.html#t:EncCBOR" title="Cardano.Ledger.Binary.Encoding.EncCBOR">EncCBOR</a> t &#8658; <a href="../base/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> t &#8594; <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Encoding-EncCBOR.html#t:Size" title="Cardano.Ledger.Binary.Encoding.EncCBOR">Size</a>) &#8594; <a href="../base/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> (<a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index) &#8594; <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Encoding-EncCBOR.html#t:Size" title="Cardano.Ledger.Binary.Encoding.EncCBOR">Size</a> <a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.7/cardano-ledger-binary-1.1.0.0/doc/html/cardano-ledger-binary/src" class="link">Source</a> <a href="#v:encodedSizeExpr" class="selflink">#</a></p><p class="src"><a href="#v:encodedListSizeExpr">encodedListSizeExpr</a> &#8759; (&#8704; t. <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Encoding-EncCBOR.html#t:EncCBOR" title="Cardano.Ledger.Binary.Encoding.EncCBOR">EncCBOR</a> t &#8658; <a href="../base/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> t &#8594; <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Encoding-EncCBOR.html#t:Size" title="Cardano.Ledger.Binary.Encoding.EncCBOR">Size</a>) &#8594; <a href="../base/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> [<a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index] &#8594; <a href="../cardano-ledger-binary/Cardano-Ledger-Binary-Encoding-EncCBOR.html#t:Size" title="Cardano.Ledger.Binary.Encoding.EncCBOR">Size</a> <a href="file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.7/cardano-ledger-binary-1.1.0.0/doc/html/cardano-ledger-binary/src" class="link">Source</a> <a href="#v:encodedListSizeExpr" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SafeHash:SafeToHash:8"></span> <a href="../cardano-crypto-class/Cardano-Crypto-Hash-Class.html#t:HashAlgorithm" title="Cardano.Crypto.Hash.Class">HashAlgorithm</a> (<a href="Cardano-Ledger-Crypto.html#t:HASH" title="Cardano.Ledger.Crypto">HASH</a> c) &#8658; <a href="Cardano-Ledger-SafeHash.html#t:SafeToHash" title="Cardano.Ledger.SafeHash">SafeToHash</a> (<a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index)</span> <a href="src/Cardano.Ledger.SafeHash.html#line-91" class="link">Source</a> <a href="#t:SafeHash" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SafeHash:SafeToHash:8"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-Ledger-SafeHash.html">Cardano.Ledger.SafeHash</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:originalBytes">originalBytes</a> &#8759; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index &#8594; <a href="../cardano-crypto-class/Cardano-Crypto-Hash-Class.html#t:ByteString" title="Cardano.Crypto.Hash.Class">ByteString</a> <a href="src/Cardano.Ledger.SafeHash.html#originalBytes" class="link">Source</a> <a href="#v:originalBytes" class="selflink">#</a></p><p class="src"><a href="#v:makeHashWithExplicitProxys">makeHashWithExplicitProxys</a> &#8759; <a href="../cardano-crypto-class/Cardano-Crypto-Hash-Class.html#t:HashAlgorithm" title="Cardano.Crypto.Hash.Class">HashAlgorithm</a> (<a href="Cardano-Ledger-Crypto.html#t:HASH" title="Cardano.Ledger.Crypto">HASH</a> c0) &#8658; <a href="../base/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> c0 &#8594; <a href="../base/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> index0 &#8594; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index &#8594; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c0 index0 <a href="src/Cardano.Ledger.SafeHash.html#makeHashWithExplicitProxys" class="link">Source</a> <a href="#v:makeHashWithExplicitProxys" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SafeHash:NFData:9"></span> <a href="../cardano-prelude/Cardano-Prelude-Base.html#t:NFData" title="Cardano.Prelude.Base">NFData</a> (<a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index)</span> <a href="src/Cardano.Ledger.SafeHash.html#line-89" class="link">Source</a> <a href="#t:SafeHash" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SafeHash:NFData:9"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-Ledger-SafeHash.html">Cardano.Ledger.SafeHash</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:rnf">rnf</a> &#8759; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index &#8594; () <a href="file:///nix/store/7wd7lm23cjb3mrp5rh6ag573znf82xlz-ghc-9.2.7-doc/share/doc/ghc/html/libraries/deepseq-1.4.6.1/src" class="link">Source</a> <a href="#v:rnf" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SafeHash:Eq:10"></span> <a href="../base/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index)</span> <a href="src/Cardano.Ledger.SafeHash.html#line-89" class="link">Source</a> <a href="#t:SafeHash" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SafeHash:Eq:10"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-Ledger-SafeHash.html">Cardano.Ledger.SafeHash</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> &#8759; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index &#8594; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index &#8594; <a href="../base/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/7wd7lm23cjb3mrp5rh6ag573znf82xlz-ghc-9.2.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> &#8759; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index &#8594; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index &#8594; <a href="../base/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/7wd7lm23cjb3mrp5rh6ag573znf82xlz-ghc-9.2.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SafeHash:Ord:11"></span> <a href="../base/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index)</span> <a href="src/Cardano.Ledger.SafeHash.html#line-89" class="link">Source</a> <a href="#t:SafeHash" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SafeHash:Ord:11"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-Ledger-SafeHash.html">Cardano.Ledger.SafeHash</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> &#8759; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index &#8594; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index &#8594; <a href="../base/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a> <a href="file:///nix/store/7wd7lm23cjb3mrp5rh6ag573znf82xlz-ghc-9.2.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src" class="link">Source</a> <a href="#v:compare" class="selflink">#</a></p><p class="src"><a href="#v:-60-">(&lt;)</a> &#8759; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index &#8594; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index &#8594; <a href="../base/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/7wd7lm23cjb3mrp5rh6ag573znf82xlz-ghc-9.2.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src" class="link">Source</a> <a href="#v:-60-" class="selflink">#</a></p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> &#8759; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index &#8594; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index &#8594; <a href="../base/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/7wd7lm23cjb3mrp5rh6ag573znf82xlz-ghc-9.2.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src" class="link">Source</a> <a href="#v:-60--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62-">(&gt;)</a> &#8759; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index &#8594; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index &#8594; <a href="../base/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/7wd7lm23cjb3mrp5rh6ag573znf82xlz-ghc-9.2.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src" class="link">Source</a> <a href="#v:-62-" class="selflink">#</a></p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> &#8759; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index &#8594; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index &#8594; <a href="../base/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/7wd7lm23cjb3mrp5rh6ag573znf82xlz-ghc-9.2.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src" class="link">Source</a> <a href="#v:-62--61-" class="selflink">#</a></p><p class="src"><a href="#v:max">max</a> &#8759; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index &#8594; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index &#8594; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index <a href="file:///nix/store/7wd7lm23cjb3mrp5rh6ag573znf82xlz-ghc-9.2.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src" class="link">Source</a> <a href="#v:max" class="selflink">#</a></p><p class="src"><a href="#v:min">min</a> &#8759; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index &#8594; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index &#8594; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index <a href="file:///nix/store/7wd7lm23cjb3mrp5rh6ag573znf82xlz-ghc-9.2.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src" class="link">Source</a> <a href="#v:min" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SafeHash:HeapWords:12"></span> HeapWords (<a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c i)</span> <a href="src/Cardano.Ledger.SafeHash.html#line-95" class="link">Source</a> <a href="#t:SafeHash" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SafeHash:HeapWords:12"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-Ledger-SafeHash.html">Cardano.Ledger.SafeHash</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:heapWords">heapWords</a> &#8759; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c i &#8594; <a href="../base/Data-Int.html#t:Int" title="Data.Int">Int</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SafeHash:NoThunks:13"></span> NoThunks (<a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index)</span> <a href="src/Cardano.Ledger.SafeHash.html#line-89" class="link">Source</a> <a href="#t:SafeHash" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SafeHash:NoThunks:13"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-Ledger-SafeHash.html">Cardano.Ledger.SafeHash</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:noThunks">noThunks</a> &#8759; Context &#8594; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index &#8594; <a href="../base/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="../base/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> ThunkInfo)</p><p class="src"><a href="#v:wNoThunks">wNoThunks</a> &#8759; Context &#8594; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index &#8594; <a href="../base/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="../base/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> ThunkInfo)</p><p class="src"><a href="#v:showTypeOf">showTypeOf</a> &#8759; <a href="../base/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> (<a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index) &#8594; <a href="../base/Data-String.html#t:String" title="Data.String">String</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SafeHash:ToExpr:14"></span> <a href="../cardano-ledger-binary/Cardano-Ledger-TreeDiff.html#t:ToExpr" title="Cardano.Ledger.TreeDiff">ToExpr</a> (<a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index)</span> <a href="src/Cardano.Ledger.SafeHash.html#line-235" class="link">Source</a> <a href="#t:SafeHash" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SafeHash:ToExpr:14"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-Ledger-SafeHash.html">Cardano.Ledger.SafeHash</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toExpr">toExpr</a> &#8759; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index &#8594; <a href="../cardano-ledger-binary/Cardano-Ledger-TreeDiff.html#t:Expr" title="Cardano.Ledger.TreeDiff">Expr</a> <a href="#v:toExpr" class="selflink">#</a></p><p class="src"><a href="#v:listToExpr">listToExpr</a> &#8759; [<a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index] &#8594; <a href="../cardano-ledger-binary/Cardano-Ledger-TreeDiff.html#t:Expr" title="Cardano.Ledger.TreeDiff">Expr</a> <a href="#v:listToExpr" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:SafeToHash" class="def">SafeToHash</a> t <span class="keyword">where</span> <a href="src/Cardano.Ledger.SafeHash.html#SafeToHash" class="link">Source</a> <a href="#t:SafeToHash" class="selflink">#</a></p><div class="doc"><p>Only Types that preserve their serialisation bytes are members of the
   class <code><a href="Cardano-Ledger-SafeHash.html#t:SafeToHash" title="Cardano.Ledger.SafeHash">SafeToHash</a></code>. There are only a limited number of primitive direct
   instances of <code><a href="Cardano-Ledger-SafeHash.html#t:SafeToHash" title="Cardano.Ledger.SafeHash">SafeToHash</a></code>, all but two of them are present in this file. Instead
   of making explicit instances, we almost always use a newtype (around a type <code>S</code>)
   where their is already an instance <code>(SafeToHash S)</code>. In that case the newtype
   has its SafeToHash instance derived using newtype deriving. The prime example of <code>s</code> is <code>MemoBytes</code>.
   The only exceptions are the legacy Shelley types: <code>Metadata</code> and <code>ShelleyTx</code>, that
   preserve their serialization bytes
   using a different mechanism than the use of <code>MemoBytes</code>.  <code><a href="Cardano-Ledger-SafeHash.html#t:SafeToHash" title="Cardano.Ledger.SafeHash">SafeToHash</a></code> is a superclass
   requirement of the classes <code><a href="Cardano-Ledger-SafeHash.html#t:HashAnnotated" title="Cardano.Ledger.SafeHash">HashAnnotated</a></code> and <code><a href="Cardano-Ledger-SafeHash.html#t:HashWithCrypto" title="Cardano.Ledger.SafeHash">HashWithCrypto</a></code> (below) which
   provide more convenient ways to construct SafeHashes than using <code><a href="Cardano-Ledger-SafeHash.html#v:makeHashWithExplicitProxys" title="Cardano.Ledger.SafeHash">makeHashWithExplicitProxys</a></code>.</p></div><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src"><a href="Cardano-Ledger-SafeHash.html#v:originalBytes" title="Cardano.Ledger.SafeHash">originalBytes</a></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:originalBytes" class="def">originalBytes</a> &#8759; t &#8594; <a href="../cardano-crypto-class/Cardano-Crypto-Hash-Class.html#t:ByteString" title="Cardano.Crypto.Hash.Class">ByteString</a> <a href="src/Cardano.Ledger.SafeHash.html#originalBytes" class="link">Source</a> <a href="#v:originalBytes" class="selflink">#</a></p><div class="doc"><p>Extract the original bytes from <code>t</code></p></div><p class="src"><a id="v:makeHashWithExplicitProxys" class="def">makeHashWithExplicitProxys</a> &#8759; <a href="../cardano-crypto-class/Cardano-Crypto-Hash-Class.html#t:HashAlgorithm" title="Cardano.Crypto.Hash.Class">HashAlgorithm</a> (<a href="Cardano-Ledger-Crypto.html#t:HASH" title="Cardano.Ledger.Crypto">HASH</a> c) &#8658; <a href="../base/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> c &#8594; <a href="../base/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> index &#8594; t &#8594; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index <a href="src/Cardano.Ledger.SafeHash.html#makeHashWithExplicitProxys" class="link">Source</a> <a href="#v:makeHashWithExplicitProxys" class="selflink">#</a></p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:SafeToHash">Instances</h4><details id="i:SafeToHash" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:SafeToHash:SafeToHash:1"></span> <a href="Cardano-Ledger-SafeHash.html#t:SafeToHash" title="Cardano.Ledger.SafeHash">SafeToHash</a> <a href="../cardano-crypto-class/Cardano-Crypto-Hash-Class.html#t:ByteString" title="Cardano.Crypto.Hash.Class">ByteString</a></span> <a href="src/Cardano.Ledger.SafeHash.html#line-158" class="link">Source</a> <a href="#t:SafeToHash" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:SafeToHash:SafeToHash:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-Ledger-SafeHash.html">Cardano.Ledger.SafeHash</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:originalBytes">originalBytes</a> &#8759; <a href="../cardano-crypto-class/Cardano-Crypto-Hash-Class.html#t:ByteString" title="Cardano.Crypto.Hash.Class">ByteString</a> &#8594; <a href="../cardano-crypto-class/Cardano-Crypto-Hash-Class.html#t:ByteString" title="Cardano.Crypto.Hash.Class">ByteString</a> <a href="src/Cardano.Ledger.SafeHash.html#originalBytes" class="link">Source</a> <a href="#v:originalBytes" class="selflink">#</a></p><p class="src"><a href="#v:makeHashWithExplicitProxys">makeHashWithExplicitProxys</a> &#8759; <a href="../cardano-crypto-class/Cardano-Crypto-Hash-Class.html#t:HashAlgorithm" title="Cardano.Crypto.Hash.Class">HashAlgorithm</a> (<a href="Cardano-Ledger-Crypto.html#t:HASH" title="Cardano.Ledger.Crypto">HASH</a> c) &#8658; <a href="../base/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> c &#8594; <a href="../base/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> index &#8594; <a href="../cardano-crypto-class/Cardano-Crypto-Hash-Class.html#t:ByteString" title="Cardano.Crypto.Hash.Class">ByteString</a> &#8594; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index <a href="src/Cardano.Ledger.SafeHash.html#makeHashWithExplicitProxys" class="link">Source</a> <a href="#v:makeHashWithExplicitProxys" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:SafeToHash:SafeToHash:2"></span> <a href="Cardano-Ledger-SafeHash.html#t:SafeToHash" title="Cardano.Ledger.SafeHash">SafeToHash</a> ShortByteString</span> <a href="src/Cardano.Ledger.SafeHash.html#line-155" class="link">Source</a> <a href="#t:SafeToHash" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:SafeToHash:SafeToHash:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-Ledger-SafeHash.html">Cardano.Ledger.SafeHash</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:originalBytes">originalBytes</a> &#8759; ShortByteString &#8594; <a href="../cardano-crypto-class/Cardano-Crypto-Hash-Class.html#t:ByteString" title="Cardano.Crypto.Hash.Class">ByteString</a> <a href="src/Cardano.Ledger.SafeHash.html#originalBytes" class="link">Source</a> <a href="#v:originalBytes" class="selflink">#</a></p><p class="src"><a href="#v:makeHashWithExplicitProxys">makeHashWithExplicitProxys</a> &#8759; <a href="../cardano-crypto-class/Cardano-Crypto-Hash-Class.html#t:HashAlgorithm" title="Cardano.Crypto.Hash.Class">HashAlgorithm</a> (<a href="Cardano-Ledger-Crypto.html#t:HASH" title="Cardano.Ledger.Crypto">HASH</a> c) &#8658; <a href="../base/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> c &#8594; <a href="../base/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> index &#8594; ShortByteString &#8594; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index <a href="src/Cardano.Ledger.SafeHash.html#makeHashWithExplicitProxys" class="link">Source</a> <a href="#v:makeHashWithExplicitProxys" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:SafeToHash:SafeToHash:3"></span> <a href="Cardano-Ledger-SafeHash.html#t:SafeToHash" title="Cardano.Ledger.SafeHash">SafeToHash</a> <a href="Cardano-Ledger-SafeHash.html#t:Safe" title="Cardano.Ledger.SafeHash">Safe</a></span> <a href="src/Cardano.Ledger.SafeHash.html#line-227" class="link">Source</a> <a href="#t:SafeToHash" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:SafeToHash:SafeToHash:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-Ledger-SafeHash.html">Cardano.Ledger.SafeHash</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:originalBytes">originalBytes</a> &#8759; <a href="Cardano-Ledger-SafeHash.html#t:Safe" title="Cardano.Ledger.SafeHash">Safe</a> &#8594; <a href="../cardano-crypto-class/Cardano-Crypto-Hash-Class.html#t:ByteString" title="Cardano.Crypto.Hash.Class">ByteString</a> <a href="src/Cardano.Ledger.SafeHash.html#originalBytes" class="link">Source</a> <a href="#v:originalBytes" class="selflink">#</a></p><p class="src"><a href="#v:makeHashWithExplicitProxys">makeHashWithExplicitProxys</a> &#8759; <a href="../cardano-crypto-class/Cardano-Crypto-Hash-Class.html#t:HashAlgorithm" title="Cardano.Crypto.Hash.Class">HashAlgorithm</a> (<a href="Cardano-Ledger-Crypto.html#t:HASH" title="Cardano.Ledger.Crypto">HASH</a> c) &#8658; <a href="../base/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> c &#8594; <a href="../base/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> index &#8594; <a href="Cardano-Ledger-SafeHash.html#t:Safe" title="Cardano.Ledger.SafeHash">Safe</a> &#8594; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index <a href="src/Cardano.Ledger.SafeHash.html#makeHashWithExplicitProxys" class="link">Source</a> <a href="#v:makeHashWithExplicitProxys" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:SafeToHash:SafeToHash:4"></span> <a href="../cardano-crypto-class/Cardano-Crypto-Hash-Class.html#t:HashAlgorithm" title="Cardano.Crypto.Hash.Class">HashAlgorithm</a> c &#8658; <a href="Cardano-Ledger-SafeHash.html#t:SafeToHash" title="Cardano.Ledger.SafeHash">SafeToHash</a> (<a href="../cardano-crypto-class/Cardano-Crypto-Hash-Class.html#t:Hash" title="Cardano.Crypto.Hash.Class">Hash</a> c i)</span> <a href="src/Cardano.Ledger.SafeHash.html#line-165" class="link">Source</a> <a href="#t:SafeToHash" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:SafeToHash:SafeToHash:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-Ledger-SafeHash.html">Cardano.Ledger.SafeHash</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:originalBytes">originalBytes</a> &#8759; <a href="../cardano-crypto-class/Cardano-Crypto-Hash-Class.html#t:Hash" title="Cardano.Crypto.Hash.Class">Hash</a> c i &#8594; <a href="../cardano-crypto-class/Cardano-Crypto-Hash-Class.html#t:ByteString" title="Cardano.Crypto.Hash.Class">ByteString</a> <a href="src/Cardano.Ledger.SafeHash.html#originalBytes" class="link">Source</a> <a href="#v:originalBytes" class="selflink">#</a></p><p class="src"><a href="#v:makeHashWithExplicitProxys">makeHashWithExplicitProxys</a> &#8759; <a href="../cardano-crypto-class/Cardano-Crypto-Hash-Class.html#t:HashAlgorithm" title="Cardano.Crypto.Hash.Class">HashAlgorithm</a> (<a href="Cardano-Ledger-Crypto.html#t:HASH" title="Cardano.Ledger.Crypto">HASH</a> c0) &#8658; <a href="../base/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> c0 &#8594; <a href="../base/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> index &#8594; <a href="../cardano-crypto-class/Cardano-Crypto-Hash-Class.html#t:Hash" title="Cardano.Crypto.Hash.Class">Hash</a> c i &#8594; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c0 index <a href="src/Cardano.Ledger.SafeHash.html#makeHashWithExplicitProxys" class="link">Source</a> <a href="#v:makeHashWithExplicitProxys" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:SafeToHash:SafeToHash:5"></span> <a href="Cardano-Ledger-SafeHash.html#t:SafeToHash" title="Cardano.Ledger.SafeHash">SafeToHash</a> (<a href="Cardano-Ledger-MemoBytes.html#t:MemoBytes" title="Cardano.Ledger.MemoBytes">MemoBytes</a> t era)</span> <a href="src/Cardano.Ledger.MemoBytes.html#line-133" class="link">Source</a> <a href="#t:SafeToHash" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:SafeToHash:SafeToHash:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-Ledger-MemoBytes.html">Cardano.Ledger.MemoBytes</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:originalBytes">originalBytes</a> &#8759; <a href="Cardano-Ledger-MemoBytes.html#t:MemoBytes" title="Cardano.Ledger.MemoBytes">MemoBytes</a> t era &#8594; <a href="../cardano-crypto-class/Cardano-Crypto-Hash-Class.html#t:ByteString" title="Cardano.Crypto.Hash.Class">ByteString</a> <a href="src/Cardano.Ledger.SafeHash.html#originalBytes" class="link">Source</a> <a href="#v:originalBytes" class="selflink">#</a></p><p class="src"><a href="#v:makeHashWithExplicitProxys">makeHashWithExplicitProxys</a> &#8759; <a href="../cardano-crypto-class/Cardano-Crypto-Hash-Class.html#t:HashAlgorithm" title="Cardano.Crypto.Hash.Class">HashAlgorithm</a> (<a href="Cardano-Ledger-Crypto.html#t:HASH" title="Cardano.Ledger.Crypto">HASH</a> c) &#8658; <a href="../base/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> c &#8594; <a href="../base/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> index &#8594; <a href="Cardano-Ledger-MemoBytes.html#t:MemoBytes" title="Cardano.Ledger.MemoBytes">MemoBytes</a> t era &#8594; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index <a href="src/Cardano.Ledger.SafeHash.html#makeHashWithExplicitProxys" class="link">Source</a> <a href="#v:makeHashWithExplicitProxys" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:SafeToHash:SafeToHash:6"></span> <a href="../cardano-crypto-class/Cardano-Crypto-Hash-Class.html#t:HashAlgorithm" title="Cardano.Crypto.Hash.Class">HashAlgorithm</a> (<a href="Cardano-Ledger-Crypto.html#t:HASH" title="Cardano.Ledger.Crypto">HASH</a> c) &#8658; <a href="Cardano-Ledger-SafeHash.html#t:SafeToHash" title="Cardano.Ledger.SafeHash">SafeToHash</a> (<a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index)</span> <a href="src/Cardano.Ledger.SafeHash.html#line-91" class="link">Source</a> <a href="#t:SafeToHash" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:SafeToHash:SafeToHash:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-Ledger-SafeHash.html">Cardano.Ledger.SafeHash</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:originalBytes">originalBytes</a> &#8759; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index &#8594; <a href="../cardano-crypto-class/Cardano-Crypto-Hash-Class.html#t:ByteString" title="Cardano.Crypto.Hash.Class">ByteString</a> <a href="src/Cardano.Ledger.SafeHash.html#originalBytes" class="link">Source</a> <a href="#v:originalBytes" class="selflink">#</a></p><p class="src"><a href="#v:makeHashWithExplicitProxys">makeHashWithExplicitProxys</a> &#8759; <a href="../cardano-crypto-class/Cardano-Crypto-Hash-Class.html#t:HashAlgorithm" title="Cardano.Crypto.Hash.Class">HashAlgorithm</a> (<a href="Cardano-Ledger-Crypto.html#t:HASH" title="Cardano.Ledger.Crypto">HASH</a> c0) &#8658; <a href="../base/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> c0 &#8594; <a href="../base/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> index0 &#8594; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index &#8594; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c0 index0 <a href="src/Cardano.Ledger.SafeHash.html#makeHashWithExplicitProxys" class="link">Source</a> <a href="#v:makeHashWithExplicitProxys" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:2" id="g:2"><h1>Creating SafeHash</h1></a><div class="top"><p class="src"><span class="keyword">class</span> <a href="Cardano-Ledger-SafeHash.html#t:SafeToHash" title="Cardano.Ledger.SafeHash">SafeToHash</a> x &#8658; <a id="t:HashAnnotated" class="def">HashAnnotated</a> x index c | x &#8594; index c <a href="src/Cardano.Ledger.SafeHash.html#HashAnnotated" class="link">Source</a> <a href="#t:HashAnnotated" class="selflink">#</a></p><div class="doc"><p>Types that are <code><a href="Cardano-Ledger-SafeHash.html#t:SafeToHash" title="Cardano.Ledger.SafeHash">SafeToHash</a></code>, AND have both of the following two invariants,
   are made members of the HashAnnotated class. The preconditions are:</p><ol><li>The type uniquely determines the <code>index</code> type tag of (SafeHash crypto index)</li><li>The type uniquely determines the <code>crypto</code> type of (SafeHash crytop index)</li></ol><p>The <code><a href="Cardano-Ledger-SafeHash.html#t:SafeToHash" title="Cardano.Ledger.SafeHash">SafeToHash</a></code> and the <code><a href="Cardano-Ledger-SafeHash.html#t:HashAnnotated" title="Cardano.Ledger.SafeHash">HashAnnotated</a></code> classes are designed so that their
   instances can be easily derived (because their methods have default methods
   when the type is a newtype around a type that is <code><a href="Cardano-Ledger-SafeHash.html#t:SafeToHash" title="Cardano.Ledger.SafeHash">SafeToHash</a></code>). For example,</p><pre>  newtype T era = T S
     deriving Eq
     deriving newtype SafeToHash -- Uses {-# LANGUAGE DerivingStrategies #-}

  instance HashAnnotated (T era) Index (Crypto era)
</pre><p>After these declarations. One specialization of <code><a href="Cardano-Ledger-SafeHash.html#v:hashAnnotated" title="Cardano.Ledger.SafeHash">hashAnnotated</a></code> is
    <code>(hashAnnotated :: Era e =&gt; T e -&gt; SafeHash (Crypto e) Index)</code></p></div></div><div class="top"><p class="src"><a id="v:hashAnnotated" class="def">hashAnnotated</a> &#8759; (<a href="Cardano-Ledger-SafeHash.html#t:HashAnnotated" title="Cardano.Ledger.SafeHash">HashAnnotated</a> x index c, <a href="../cardano-crypto-class/Cardano-Crypto-Hash-Class.html#t:HashAlgorithm" title="Cardano.Crypto.Hash.Class">HashAlgorithm</a> (<a href="Cardano-Ledger-Crypto.html#t:HASH" title="Cardano.Ledger.Crypto">HASH</a> c)) &#8658; x &#8594; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index <a href="src/Cardano.Ledger.SafeHash.html#hashAnnotated" class="link">Source</a> <a href="#v:hashAnnotated" class="selflink">#</a></p><div class="doc"><p>Create a <code>(<code><a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a></code> i crypto)</code>,
 given <code>(Hash.HashAlgorithm (HASH crypto))</code>
 and  <code>(HashAnnotated x i crypto)</code> instances.</p></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="Cardano-Ledger-SafeHash.html#t:SafeToHash" title="Cardano.Ledger.SafeHash">SafeToHash</a> x &#8658; <a id="t:HashWithCrypto" class="def">HashWithCrypto</a> x index | x &#8594; index <span class="keyword">where</span> <a href="src/Cardano.Ledger.SafeHash.html#HashWithCrypto" class="link">Source</a> <a href="#t:HashWithCrypto" class="selflink">#</a></p><div class="doc"><p>Create <code>(<code><a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a></code> index crypto)</code> values, used when the type being hashed:
   <code>x</code> determines the <code>index</code> tag but not the <code>crypto</code> tag of <code>x</code></p></div><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src">Nothing</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:hashWithCrypto" class="def">hashWithCrypto</a> &#8759; &#8704; c. <a href="../cardano-crypto-class/Cardano-Crypto-Hash-Class.html#t:HashAlgorithm" title="Cardano.Crypto.Hash.Class">HashAlgorithm</a> (<a href="Cardano-Ledger-Crypto.html#t:HASH" title="Cardano.Ledger.Crypto">HASH</a> c) &#8658; <a href="../base/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> c &#8594; x &#8594; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index <a href="src/Cardano.Ledger.SafeHash.html#hashWithCrypto" class="link">Source</a> <a href="#v:hashWithCrypto" class="selflink">#</a></p><div class="doc"><p>Create a <code>(<code><a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a></code> index crypto)</code> value from <code>x</code>, the <code>proxy</code> determines the crypto.</p></div></div></div><div class="top"><p class="src"><a id="v:unsafeMakeSafeHash" class="def">unsafeMakeSafeHash</a> &#8759; <a href="../cardano-crypto-class/Cardano-Crypto-Hash-Class.html#t:Hash" title="Cardano.Crypto.Hash.Class">Hash</a> (<a href="Cardano-Ledger-Crypto.html#t:HASH" title="Cardano.Ledger.Crypto">HASH</a> c) index &#8594; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index <a href="src/Cardano.Ledger.SafeHash.html#unsafeMakeSafeHash" class="link">Source</a> <a href="#v:unsafeMakeSafeHash" class="selflink">#</a></p><div class="doc"><p>Don't use this except in Testing to make Arbitrary instances, etc.
   Defined here, only because the Constructor is in scope here.</p></div></div><a href="#g:3" id="g:3"><h1>Other operations</h1></a><div class="top"><p class="src"><a id="v:castSafeHash" class="def">castSafeHash</a> &#8759; &#8704; i j c. <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c i &#8594; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c j <a href="src/Cardano.Ledger.SafeHash.html#castSafeHash" class="link">Source</a> <a href="#v:castSafeHash" class="selflink">#</a></p><div class="doc"><p>To change the index parameter of SafeHash (which is a phantom type) use castSafeHash</p></div></div><div class="top"><p class="src"><a id="v:extractHash" class="def">extractHash</a> &#8759; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c i &#8594; <a href="../cardano-crypto-class/Cardano-Crypto-Hash-Class.html#t:Hash" title="Cardano.Crypto.Hash.Class">Hash</a> (<a href="Cardano-Ledger-Crypto.html#t:HASH" title="Cardano.Ledger.Crypto">HASH</a> c) i <a href="src/Cardano.Ledger.SafeHash.html#extractHash" class="link">Source</a> <a href="#v:extractHash" class="selflink">#</a></p><div class="doc"><p>Extract the hash out of a <code><a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a></code></p></div></div><div class="top"><p class="src"><a id="v:indexProxy" class="def">indexProxy</a> &#8759; <a href="Cardano-Ledger-SafeHash.html#t:HashAnnotated" title="Cardano.Ledger.SafeHash">HashAnnotated</a> x index c &#8658; x &#8594; <a href="../base/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> index <a href="src/Cardano.Ledger.SafeHash.html#indexProxy" class="link">Source</a> <a href="#v:indexProxy" class="selflink">#</a></p></div><a href="#g:4" id="g:4"><h1>Safe hashing aggregates</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Safe" class="def">Safe</a> <span class="keyword">where</span> <a href="src/Cardano.Ledger.SafeHash.html#Safe" class="link">Source</a> <a href="#t:Safe" class="selflink">#</a></p><div class="doc"><p>Sometimes one wants to hash multiple things, simply by concatenating
   all the bytes. This abstraction allows one to do that safely.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Safe" class="def">Safe</a> &#8759; <a href="Cardano-Ledger-SafeHash.html#t:SafeToHash" title="Cardano.Ledger.SafeHash">SafeToHash</a> x &#8658; x &#8594; <a href="Cardano-Ledger-SafeHash.html#t:Safe" title="Cardano.Ledger.SafeHash">Safe</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Safe">Instances</h4><details id="i:Safe" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Safe:SafeToHash:1"></span> <a href="Cardano-Ledger-SafeHash.html#t:SafeToHash" title="Cardano.Ledger.SafeHash">SafeToHash</a> <a href="Cardano-Ledger-SafeHash.html#t:Safe" title="Cardano.Ledger.SafeHash">Safe</a></span> <a href="src/Cardano.Ledger.SafeHash.html#line-227" class="link">Source</a> <a href="#t:Safe" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Safe:SafeToHash:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-Ledger-SafeHash.html">Cardano.Ledger.SafeHash</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:originalBytes">originalBytes</a> &#8759; <a href="Cardano-Ledger-SafeHash.html#t:Safe" title="Cardano.Ledger.SafeHash">Safe</a> &#8594; <a href="../cardano-crypto-class/Cardano-Crypto-Hash-Class.html#t:ByteString" title="Cardano.Crypto.Hash.Class">ByteString</a> <a href="src/Cardano.Ledger.SafeHash.html#originalBytes" class="link">Source</a> <a href="#v:originalBytes" class="selflink">#</a></p><p class="src"><a href="#v:makeHashWithExplicitProxys">makeHashWithExplicitProxys</a> &#8759; <a href="../cardano-crypto-class/Cardano-Crypto-Hash-Class.html#t:HashAlgorithm" title="Cardano.Crypto.Hash.Class">HashAlgorithm</a> (<a href="Cardano-Ledger-Crypto.html#t:HASH" title="Cardano.Ledger.Crypto">HASH</a> c) &#8658; <a href="../base/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> c &#8594; <a href="../base/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> index &#8594; <a href="Cardano-Ledger-SafeHash.html#t:Safe" title="Cardano.Ledger.SafeHash">Safe</a> &#8594; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index <a href="src/Cardano.Ledger.SafeHash.html#makeHashWithExplicitProxys" class="link">Source</a> <a href="#v:makeHashWithExplicitProxys" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:hashSafeList" class="def">hashSafeList</a> &#8759; <a href="../cardano-crypto-class/Cardano-Crypto-Hash-Class.html#t:HashAlgorithm" title="Cardano.Crypto.Hash.Class">HashAlgorithm</a> (<a href="Cardano-Ledger-Crypto.html#t:HASH" title="Cardano.Ledger.Crypto">HASH</a> c) &#8658; <a href="../base/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> c &#8594; <a href="../base/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> index &#8594; [<a href="Cardano-Ledger-SafeHash.html#t:Safe" title="Cardano.Ledger.SafeHash">Safe</a>] &#8594; <a href="Cardano-Ledger-SafeHash.html#t:SafeHash" title="Cardano.Ledger.SafeHash">SafeHash</a> c index <a href="src/Cardano.Ledger.SafeHash.html#hashSafeList" class="link">Source</a> <a href="#v:hashSafeList" class="selflink">#</a></p></div><a href="#g:5" id="g:5"><h1>Deprecated</h1></a><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:HasAlgorithm" class="def">HasAlgorithm</a> c = <a href="../cardano-crypto-class/Cardano-Crypto-Hash-Class.html#t:HashAlgorithm" title="Cardano.Crypto.Hash.Class">HashAlgorithm</a> (<a href="Cardano-Ledger-Crypto.html#t:HASH" title="Cardano.Ledger.Crypto">HASH</a> c) <a href="src/Cardano.Ledger.SafeHash.html#HasAlgorithm" class="link">Source</a> <a href="#t:HasAlgorithm" class="selflink">#</a></p><div class="doc"><div class="warning"><p>Deprecated: Use `Hash.HashAlgorithm (HASH c)` instead</p></div></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.26.0</p></div></body></html>